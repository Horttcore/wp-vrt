(()=>{var e,t,n={731(e){var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,"");function a(e){return t[e]}var l=function(e){return e.replace(r,a)};e.exports=l,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=l},493(e,t,n){"use strict";var r=n(609),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,l=r.useEffect,o=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return o(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),l(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},888(e,t,n){"use strict";e.exports=n(493)},609(e){"use strict";e.exports=window.React}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>l[e]=()=>n[e]);return l.default=()=>n,i.d(a,l),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.wp.element,t=window.wp.components;var n=i(609),r=i.t(n,2);const a=window.wp.i18n,l=window.wp.primitives,o=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),s=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),c=(0,e.memo)(function({view:r,onChangeView:i,paginationInfo:{totalItems:l=0,totalPages:c}}){var u;if(!l||!c)return null;const d=null!==(u=r.page)&&void 0!==u?u:1;return!!l&&1!==c&&(0,n.createElement)(t.__experimentalHStack,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination"},(0,n.createElement)(t.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection"},(0,e.createInterpolateElement)((0,a.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,a._x)("Page <CurrentPageControl /> of %s","paging"),c),{CurrentPageControl:(0,n.createElement)(t.SelectControl,{"aria-label":(0,a.__)("Current page"),value:r.page?.toString(),options:Array.from(Array(c)).map((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString()}}),onChange:e=>{i({...r,page:+e})},size:"compact",__nextHasNoMarginBottom:!0})})),(0,n.createElement)(t.__experimentalHStack,{expanded:!1,spacing:1},(0,n.createElement)(t.Button,{onClick:()=>i({...r,page:d-1}),disabled:1===d,__experimentalIsFocusable:!0,label:(0,a.__)("Previous page"),icon:o,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,n.createElement)(t.Button,{onClick:()=>i({...r,page:d+1}),disabled:d>=c,__experimentalIsFocusable:!0,label:(0,a.__)("Next page"),icon:s,showTooltip:!0,size:"compact",tooltipPosition:"top"})))}),u=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,n.createElement)(l.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})),d=window.wp.privateApis,{lock:m,unlock:f}=(0,d.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/dataviews"),v="is",p="isNot",g="isAny",w="isNone",E="isAll",h="isNotAll",b=[v,p,g,w,E,h],y={[v]:{key:"is-filter",label:(0,a.__)("Is")},[p]:{key:"is-not-filter",label:(0,a.__)("Is not")},[g]:{key:"is-any-filter",label:(0,a.__)("Is any")},[w]:{key:"is-none-filter",label:(0,a.__)("Is none")},[E]:{key:"is-all-filter",label:(0,a.__)("Is all")},[h]:{key:"is-not-all-filter",label:(0,a.__)("Is not all")}},S={asc:{label:(0,a.__)("Sort ascending")},desc:{label:(0,a.__)("Sort descending")}},_="table",C="grid",I=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),x=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),k=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),V=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));function O(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=O(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const N=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=O(e))&&(r&&(r+=" "),r+=t);return r},M=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})),A=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"}));function P({selection:e,onSelectionChange:r,item:i,data:l,getItemId:o,primaryField:s,disabled:c}){const u=o(i),d=e.includes(u);let m;return m=s?.getValue&&i?(0,a.sprintf)(/* translators: %s: item title. */
d?(0,a.__)("Deselect item: %s"):(0,a.__)("Select item: %s"),s.getValue({item:i})):d?(0,a.__)("Select a new item"):(0,a.__)("Deselect item"),(0,n.createElement)(t.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":m,"aria-disabled":c,checked:d,onChange:()=>{c||r(d?l.filter(t=>{const n=o?.(t);return n!==u&&e.includes(n)}):l.filter(t=>{const n=o?.(t);return n===u||e.includes(n)}))}})}const F=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),{DropdownMenuV2:D,DropdownMenuGroupV2:T,DropdownMenuItemV2:L,DropdownMenuItemLabelV2:B,kebabCase:R}=f(t.privateApis);function H({action:e,onClick:r}){return(0,n.createElement)(t.Button,{label:e.label,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:r})}function j({action:e,onClick:t}){return(0,n.createElement)(L,{onClick:t,hideOnClick:!("RenderModal"in e)},(0,n.createElement)(B,null,e.label))}function z({action:e,items:r,closeModal:i}){return(0,n.createElement)(t.Modal,{title:e.modalHeader||e.label,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:null!=i?i:()=>{},overlayClassName:`dataviews-action-modal dataviews-action-modal__${R(e.id)}`},(0,n.createElement)(e.RenderModal,{items:r,closeModal:i,onActionStart:e.onActionStart,onActionPerformed:e.onActionPerformed}))}function K({action:t,items:r,ActionTrigger:i,isBusy:a}){const[l,o]=(0,e.useState)(!1),s={action:t,onClick:()=>{o(!0)},items:r,isBusy:a};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i,{...s}),l&&(0,n.createElement)(z,{action:t,items:r,closeModal:()=>o(!1)}))}function U({actions:e,item:t}){return(0,n.createElement)(T,null,e.map(e=>"RenderModal"in e?(0,n.createElement)(K,{key:e.id,action:e,items:[t],ActionTrigger:j}):(0,n.createElement)(j,{key:e.id,action:e,onClick:()=>e.callback([t])})))}function W({item:r,actions:i,isCompact:a}){const{primaryActions:l,eligibleActions:o}=(0,e.useMemo)(()=>{const e=i.filter(e=>!e.isEligible||e.isEligible(r));return{primaryActions:e.filter(e=>e.isPrimary&&!!e.icon),eligibleActions:e}},[i,r]);return a?(0,n.createElement)(G,{item:r,actions:o}):(0,n.createElement)(t.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"}},!!l.length&&l.map(e=>"RenderModal"in e?(0,n.createElement)(K,{key:e.id,action:e,items:[r],ActionTrigger:H}):(0,n.createElement)(H,{key:e.id,action:e,onClick:()=>e.callback([r])})),(0,n.createElement)(G,{item:r,actions:o}))}function G({item:e,actions:r}){return(0,n.createElement)(D,{trigger:(0,n.createElement)(t.Button,{size:"compact",icon:F,label:(0,a.__)("Actions"),disabled:!r.length,className:"dataviews-all-actions-button"}),placement:"bottom-end"},(0,n.createElement)(U,{actions:r,item:e}))}const $=e=>{let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[g,w]),t.includes("in")&&(t=t.filter(e=>"is"!==e),t.push("is")),t.includes("notIn")&&(t=t.filter(e=>"notIn"!==e),t.push("isNot")),t=t.filter(e=>b.includes(e)),(t.includes(v)||t.includes(p))&&(t=t.filter(e=>[v,p].includes(e))),t},{DropdownMenuV2:q,DropdownMenuGroupV2:Y,DropdownMenuItemV2:X,DropdownMenuSeparatorV2:Z}=f(t.privateApis);function J(t,n){return(0,e.useMemo)(()=>t.some(e=>e.supportsBulk&&(!e.isEligible||e.isEligible(n))),[t,n])}function Q({action:r,selectedItems:i,setActionWithModal:a,onMenuOpenChange:l}){const o=(0,e.useMemo)(()=>i.filter(e=>!r.isEligible||r.isEligible(e)),[r,i]),{RenderModal:s,hideModalHeader:c}=r,u=(0,e.useCallback)(()=>{a(void 0)},[a]);return(0,n.createElement)(t.Modal,{title:c?void 0:r.label,__experimentalHideHeader:!!c,onRequestClose:u,overlayClassName:"dataviews-action-modal"},(0,n.createElement)(s,{items:o,closeModal:u,onActionPerformed:()=>l(!1)}))}function ee({action:t,selectedItems:r,setActionWithModal:i}){const a=(0,e.useMemo)(()=>r.filter(e=>!t.isEligible||t.isEligible(e)),[t,r]),l="RenderModal"in t;return(0,n.createElement)(X,{key:t.id,disabled:0===a.length,hideOnClick:!l,onClick:async()=>{l?i(t):await t.callback(a)},suffix:a.length>0?a.length:void 0},t.label)}function te({actions:e,selectedItems:t,setActionWithModal:r}){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(Y,null,e.map(e=>(0,n.createElement)(ee,{key:e.id,action:e,selectedItems:t,setActionWithModal:r}))),(0,n.createElement)(Z,null))}function ne({data:r,actions:i,selection:l,onSelectionChange:o,getItemId:s}){const c=(0,e.useMemo)(()=>i.filter(e=>e.supportsBulk),[i]),[u,d]=(0,e.useState)(!1),[m,f]=(0,e.useState)(),v=(0,e.useMemo)(()=>r.filter(e=>c.some(t=>!t.isEligible||t.isEligible(e))),[r,c]),p=v.length,g=l&&l.length===p,w=(0,e.useMemo)(()=>r.filter(e=>l.includes(s(e))),[l,r,s]),E=(0,e.useMemo)(()=>w.some(e=>!v.includes(e)),[w,v]);return(0,e.useEffect)(()=>{E&&o(w.filter(e=>v.some(t=>s(e)===s(t))))},[E,w,v,s,o]),0===c.length?null:(0,n.createElement)(n.Fragment,null,(0,n.createElement)(q,{open:u,onOpenChange:d,label:(0,a.__)("Bulk actions"),style:{minWidth:"240px"},trigger:(0,n.createElement)(t.Button,{className:"dataviews-bulk-edit-button",__next40pxDefaultSize:!0,variant:"tertiary",size:"compact"},l.length?(0,a.sprintf)(/* translators: %d: Number of items. */ /* translators: %d: Number of items. */
(0,a._n)("Edit %d item","Edit %d items",l.length),l.length):(0,a.__)("Bulk edit"))},(0,n.createElement)(te,{actions:c,setActionWithModal:f,selectedItems:w}),(0,n.createElement)(Y,null,(0,n.createElement)(X,{disabled:g,hideOnClick:!1,onClick:()=>{o(v)},suffix:p},(0,a.__)("Select all")),(0,n.createElement)(X,{disabled:0===l.length,hideOnClick:!1,onClick:()=>{o([])}},(0,a.__)("Deselect")))),m&&(0,n.createElement)(Q,{action:m,selectedItems:w,setActionWithModal:f,onMenuOpenChange:d}))}const{DropdownMenuV2:re,DropdownMenuGroupV2:ie,DropdownMenuItemV2:ae,DropdownMenuRadioItemV2:le,DropdownMenuItemLabelV2:oe,DropdownMenuSeparatorV2:se}=f(t.privateApis);function ce({children:t}){return e.Children.toArray(t).filter(Boolean).map((t,r)=>(0,n.createElement)(e.Fragment,{key:r},r>0&&(0,n.createElement)(se,null),t))}const ue={asc:"↑",desc:"↓"},de=(0,e.forwardRef)(function({field:e,view:r,onChangeView:i,onHide:l,setOpenedFilter:o},s){const c=!1!==e.enableHiding,u=!1!==e.enableSorting,d=r.sort?.field===e.id,m=$(e),f=!(r.filters?.some(t=>e.id===t.field)||!e.elements?.length||!m.length||e.filterBy?.isPrimary);return u||c||f?(0,n.createElement)(re,{align:"start",trigger:(0,n.createElement)(t.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:s,variant:"tertiary"},e.header,d&&(0,n.createElement)("span",{"aria-hidden":"true"},d&&ue[r.sort.direction])),style:{minWidth:"240px"}},(0,n.createElement)(ce,null,u&&(0,n.createElement)(ie,null,Object.entries(S).map(([t,a])=>{const l=d&&r.sort.direction===t,o=`${e.id}-${t}`;return(0,n.createElement)(le,{key:o,name:"view-table-sorting",value:o,checked:l,onChange:()=>{i({...r,sort:{field:e.id,direction:t}})}},(0,n.createElement)(oe,null,a.label))})),f&&(0,n.createElement)(ie,null,(0,n.createElement)(ae,{prefix:(0,n.createElement)(t.Icon,{icon:M}),onClick:()=>{o(e.id),i({...r,page:1,filters:[...r.filters||[],{field:e.id,value:void 0,operator:m[0]}]})}},(0,n.createElement)(oe,null,(0,a.__)("Add filter")))),c&&(0,n.createElement)(ae,{prefix:(0,n.createElement)(t.Icon,{icon:A}),onClick:()=>{l(e),i({...r,hiddenFields:r.hiddenFields.concat(e.id)})}},(0,n.createElement)(oe,null,(0,a.__)("Hide"))))):e.header});function me({selection:r,onSelectionChange:i,data:l,actions:o}){const s=(0,e.useMemo)(()=>l.filter(e=>o.some(t=>t.supportsBulk&&t.isEligible(e))),[l,o]),c=r.length===s.length;return(0,n.createElement)(t.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:c,indeterminate:!c&&r.length,onChange:()=>{i(c?[]:s)},"aria-label":c?(0,a.__)("Deselect all"):(0,a.__)("Select all")})}function fe({hasBulkActions:t,item:r,actions:i,id:a,visibleFields:l,primaryField:o,selection:s,getItemId:c,onSelectionChange:u,data:d}){const m=J(i,r),f=s.includes(a),[v,p]=(0,e.useState)(!1),g=(0,e.useRef)(!1);return(0,n.createElement)("tr",{className:N("dataviews-view-table__row",{"is-selected":m&&f,"is-hovered":v,"has-bulk-actions":m}),onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},onTouchStart:()=>{g.current=!0},onClick:()=>{g.current||"Range"===document.getSelection().type||u(f?d.filter(e=>{const t=c?.(e);return t!==a&&s.includes(t)}):d.filter(e=>{const t=c?.(e);return t===a||s.includes(t)}))}},t&&(0,n.createElement)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"}},(0,n.createElement)("div",{className:"dataviews-view-table__cell-content-wrapper"},(0,n.createElement)(P,{id:a,item:r,selection:s,onSelectionChange:u,getItemId:c,data:d,primaryField:o,disabled:!m}))),l.map(e=>(0,n.createElement)("td",{key:e.id,style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0}},(0,n.createElement)("div",{className:N("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":o?.id===e.id})},e.render({item:r})))),!!i?.length&&(0,n.createElement)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation()},(0,n.createElement)(W,{item:r,actions:i})))}function ve({selection:e,data:r,onSelectionChange:i,getItemId:a,item:l,actions:o,mediaField:s,primaryField:c,visibleFields:u,badgeFields:d,columnFields:m}){const f=J(o,l),v=a(l),p=e.includes(v);return(0,n.createElement)(t.__experimentalVStack,{spacing:0,key:v,className:N("dataviews-view-grid__card",{"is-selected":f&&p}),onClickCapture:t=>{if(t.ctrlKey||t.metaKey){if(t.stopPropagation(),t.preventDefault(),!f)return;i(p?r.filter(t=>{const n=a?.(t);return n!==v&&e.includes(n)}):r.filter(t=>{const n=a?.(t);return n===v||e.includes(n)}))}}},(0,n.createElement)("div",{className:"dataviews-view-grid__media"},s?.render({item:l})),(0,n.createElement)(t.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions"},(0,n.createElement)(P,{item:l,selection:e,onSelectionChange:i,getItemId:a,data:r,primaryField:c,disabled:!f}),(0,n.createElement)(t.__experimentalHStack,{className:"dataviews-view-grid__primary-field"},c?.render({item:l})),(0,n.createElement)(W,{item:l,actions:o,isCompact:!0})),!!d?.length&&(0,n.createElement)(t.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start"},d.map(e=>{const r=e.render({item:l});return r?(0,n.createElement)(t.FlexItem,{key:e.id,className:"dataviews-view-grid__field-value"},r):null})),!!u?.length&&(0,n.createElement)(t.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:3},u.map(e=>{const r=e.render({item:l});return r?(0,n.createElement)(t.Flex,{className:N("dataviews-view-grid__field",m?.includes(e.id)?"is-column":"is-row"),key:e.id,gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:m?.includes(e.id)?"column":"row"},(0,n.createElement)(n.Fragment,null,(0,n.createElement)(t.FlexItem,{className:"dataviews-view-grid__field-name"},e.header),(0,n.createElement)(t.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"}},r))):null})))}const pe=window.wp.compose,{useCompositeStoreV2:ge,CompositeV2:we,CompositeItemV2:Ee,CompositeRowV2:he,DropdownMenuV2:be}=f(t.privateApis);function ye({actions:r,id:i,isSelected:l,item:o,mediaField:s,onSelect:c,primaryField:u,store:d,visibleFields:m}){const f=(0,e.useRef)(null),v=`${i}-label`,p=`${i}-description`,[g,w]=(0,e.useState)(!1);(0,e.useEffect)(()=>{l&&f.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})},[l]);const{primaryAction:E,eligibleActions:h}=(0,e.useMemo)(()=>{const e=r.filter(e=>!e.isEligible||e.isEligible(o)),t=e.filter(e=>e.isPrimary&&!!e.icon);return{primaryAction:t?.[0],eligibleActions:e}},[r,o]),[b,y]=(0,e.useState)(!1);return(0,n.createElement)(he,{ref:f,render:(0,n.createElement)("li",null),role:"row",className:N({"is-selected":l,"is-hovered":g}),onMouseEnter:()=>{w(!0)},onMouseLeave:()=>{w(!1)}},(0,n.createElement)(t.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",alignment:"top"},(0,n.createElement)("div",{role:"gridcell"},(0,n.createElement)(Ee,{store:d,render:(0,n.createElement)("div",null),role:"button",id:i,"aria-pressed":l,"aria-labelledby":v,"aria-describedby":p,className:"dataviews-view-list__item",onClick:()=>c(o)},(0,n.createElement)(t.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start"},(0,n.createElement)("div",{className:"dataviews-view-list__media-wrapper"},s?.render({item:o})||(0,n.createElement)("div",{className:"dataviews-view-list__media-placeholder"})),(0,n.createElement)(t.__experimentalVStack,{spacing:1},(0,n.createElement)("span",{className:"dataviews-view-list__primary-field",id:v},u?.render({item:o})),(0,n.createElement)("div",{className:"dataviews-view-list__fields",id:p},m.map(e=>(0,n.createElement)("div",{key:e.id,className:"dataviews-view-list__field"},(0,n.createElement)(t.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label"},e.header),(0,n.createElement)("span",{className:"dataviews-view-list__field-value"},e.render({item:o}))))))))),r?.length>0&&(0,n.createElement)(t.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-view-list__item-actions",style:{flexShrink:"0",width:"auto"}},E&&"RenderModal"in E&&(0,n.createElement)("div",{role:"gridcell"},(0,n.createElement)(Ee,{store:d,render:(0,n.createElement)(t.Button,{label:E.label,icon:E.icon,isDestructive:E.isDestructive,size:"compact",onClick:()=>y(!0)})},b&&(0,n.createElement)(z,{action:E,items:[o],closeModal:()=>y(!1)}))),E&&!("RenderModal"in E)&&(0,n.createElement)("div",{role:"gridcell",key:E.id},(0,n.createElement)(Ee,{store:d,render:(0,n.createElement)(t.Button,{label:E.label,icon:E.icon,isDestructive:E.isDestructive,size:"compact",onClick:()=>E.callback([o])})})),(0,n.createElement)("div",{role:"gridcell"},(0,n.createElement)(be,{trigger:(0,n.createElement)(Ee,{store:d,render:(0,n.createElement)(t.Button,{size:"compact",icon:F,label:(0,a.__)("Actions"),disabled:!r.length,onKeyDown:e=>{"ArrowDown"===e.key&&(e.preventDefault(),d.move(d.down())),"ArrowUp"===e.key&&(e.preventDefault(),d.move(d.up()))}})}),placement:"bottom-end"},(0,n.createElement)(U,{actions:h,item:o}))))))}const Se=[{type:_,label:(0,a.__)("Table"),component:function({actions:r,data:i,fields:l,getItemId:o,isLoading:s=!1,onChangeView:c,onSelectionChange:u,selection:d,setOpenedFilter:m,view:f}){const v=(0,e.useRef)(new Map),p=(0,e.useRef)(),[g,w]=(0,e.useState)(),E=function(t,n){return(0,e.useMemo)(()=>n.some(e=>t.some(t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e)))),[t,n])}(r,i);(0,e.useEffect)(()=>{p.current&&(p.current.focus(),p.current=void 0)});const h=(0,e.useId)();if(g)return p.current=g,void w();const b=e=>{const t=v.current.get(e.id),n=v.current.get(t.fallback);w(n?.node)},y=l.filter(e=>!f.hiddenFields.includes(e.id)&&![f.layout.mediaField].includes(e.id)),S=!!i?.length,_={asc:"ascending",desc:"descending"},C=l.find(e=>e.id===f.layout.primaryField);return(0,n.createElement)(e.Fragment,null,(0,n.createElement)("table",{className:"dataviews-view-table","aria-busy":s,"aria-describedby":h},(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:"dataviews-view-table__row"},E&&(0,n.createElement)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},"data-field-id":"selection",scope:"col"},(0,n.createElement)(me,{selection:d,onSelectionChange:u,data:i,actions:r})),y.map((e,t)=>(0,n.createElement)("th",{key:e.id,style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0},"data-field-id":e.id,"aria-sort":f.sort?.field===e.id&&_[f.sort.direction],scope:"col"},(0,n.createElement)(de,{ref:n=>{n?v.current.set(e.id,{node:n,fallback:y[t>0?t-1:1]?.id}):v.current.delete(e.id)},field:e,view:f,onChangeView:c,onHide:b,setOpenedFilter:m}))),!!r?.length&&(0,n.createElement)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column"},(0,n.createElement)("span",{className:"dataviews-view-table-header"},(0,a.__)("Actions"))))),(0,n.createElement)("tbody",null,S&&i.map((e,t)=>(0,n.createElement)(fe,{key:o(e),item:e,hasBulkActions:E,actions:r,id:o(e)||t,visibleFields:y,primaryField:C,selection:d,getItemId:o,onSelectionChange:u,data:i})))),(0,n.createElement)("div",{className:N({"dataviews-loading":s,"dataviews-no-results":!S&&!s}),id:h},!S&&(0,n.createElement)("p",null,s?(0,n.createElement)(t.Spinner,null):(0,a.__)("No results"))))},icon:I},{type:C,label:(0,a.__)("Grid"),component:function({actions:e,data:r,fields:i,getItemId:l,isLoading:o,onSelectionChange:s,selection:c,view:u}){const d=i.find(e=>e.id===u.layout.mediaField),m=i.find(e=>e.id===u.layout.primaryField),{visibleFields:f,badgeFields:v}=i.reduce((e,t)=>(u.hiddenFields.includes(t.id)||[u.layout.mediaField,u.layout.primaryField].includes(t.id)||e[u.layout.badgeFields?.includes(t.id)?"badgeFields":"visibleFields"].push(t),e),{visibleFields:[],badgeFields:[]}),p=!!r?.length;return(0,n.createElement)(n.Fragment,null,p&&(0,n.createElement)(t.__experimentalGrid,{gap:6,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":o},r.map(t=>(0,n.createElement)(ve,{key:l(t),selection:c,data:r,onSelectionChange:s,getItemId:l,item:t,actions:e,mediaField:d,primaryField:m,visibleFields:f,badgeFields:v,columnFields:u.layout.columnFields}))),!p&&(0,n.createElement)("div",{className:N({"dataviews-loading":o,"dataviews-no-results":!o})},(0,n.createElement)("p",null,o?(0,n.createElement)(t.Spinner,null):(0,a.__)("No results"))))},icon:x},{type:"list",label:(0,a.__)("List"),component:function r(i){const{actions:l,data:o,fields:s,getItemId:c,isLoading:u,onSelectionChange:d,selection:m,view:f}=i,v=(0,pe.useInstanceId)(r,"view-list"),p=o?.findLast(e=>m.includes(e.id)),g=s.find(e=>e.id===f.layout.mediaField),w=s.find(e=>e.id===f.layout.primaryField),E=s.filter(e=>!f.hiddenFields.includes(e.id)&&![f.layout.primaryField,f.layout.mediaField].includes(e.id)),h=(0,e.useCallback)(e=>d([e]),[d]),b=(0,e.useCallback)(e=>e?`${v}-${c(e)}`:void 0,[v,c]),y=ge({defaultActiveId:b(p)}),S=y.useState(e=>e.items.some(t=>t.id===e.activeId));(0,e.useEffect)(()=>{S||(y.down()?y.move(y.down()):y.up()&&y.move(y.up()))},[S]);const _=o?.length;return _?(0,n.createElement)(we,{id:v,render:(0,n.createElement)("ul",null),className:"dataviews-view-list",role:"grid",store:y},o.map(e=>{const t=b(e);return(0,n.createElement)(ye,{key:t,id:t,actions:l,item:e,isSelected:e===p,onSelect:h,mediaField:g,primaryField:w,store:y,visibleFields:E})})):(0,n.createElement)("div",{className:N({"dataviews-loading":u,"dataviews-no-results":!_&&!u})},!_&&(0,n.createElement)("p",null,u?(0,n.createElement)(t.Spinner,null):(0,a.__)("No results")))},icon:(0,a.isRTL)()?k:V}],{DropdownMenuV2:_e,DropdownMenuGroupV2:Ce,DropdownMenuItemV2:Ie,DropdownMenuRadioItemV2:xe,DropdownMenuCheckboxItemV2:ke,DropdownMenuItemLabelV2:Ve}=f(t.privateApis);function Oe({view:e,onChangeView:t,supportedLayouts:r}){let i=Se;if(r&&(i=i.filter(e=>r.includes(e.type))),1===i.length)return null;const l=i.find(t=>e.type===t.type);return(0,n.createElement)(_e,{trigger:(0,n.createElement)(Ie,{suffix:(0,n.createElement)("span",{"aria-hidden":"true"},l.label)},(0,n.createElement)(Ve,null,(0,a.__)("Layout")))},i.map(r=>(0,n.createElement)(xe,{key:r.type,value:r.type,name:"view-actions-available-view",checked:r.type===e.type,hideOnClick:!0,onChange:n=>{t({...e,type:n.target.value})}},(0,n.createElement)(Ve,null,r.label))))}const Ne=[10,20,50,100];function Me({view:e,onChangeView:t}){return(0,n.createElement)(_e,{trigger:(0,n.createElement)(Ie,{suffix:(0,n.createElement)("span",{"aria-hidden":"true"},e.perPage)},(0,n.createElement)(Ve,null,(0,a.__)("Items per page")))},Ne.map(r=>(0,n.createElement)(xe,{key:r,value:r,name:"view-actions-page-size",checked:e.perPage===r,onChange:()=>{t({...e,perPage:r,page:1})}},(0,n.createElement)(Ve,null,r))))}function Ae({view:e,onChangeView:t,fields:r}){const i=r.filter(t=>!1!==t.enableHiding&&t.id!==e.layout.mediaField);return i?.length?(0,n.createElement)(_e,{trigger:(0,n.createElement)(Ie,null,(0,n.createElement)(Ve,null,(0,a.__)("Fields")))},i?.map(r=>(0,n.createElement)(ke,{key:r.id,value:r.id,checked:!e.hiddenFields?.includes(r.id),onChange:()=>{t({...e,hiddenFields:e.hiddenFields?.includes(r.id)?e.hiddenFields.filter(e=>e!==r.id):[...e.hiddenFields||[],r.id]})}},(0,n.createElement)(Ve,null,r.header)))):null}function Pe({fields:e,view:t,onChangeView:r}){const i=e.filter(e=>!1!==e.enableSorting);if(!i?.length)return null;const l=e.find(e=>e.id===t.sort?.field);return(0,n.createElement)(_e,{trigger:(0,n.createElement)(Ie,{suffix:(0,n.createElement)("span",{"aria-hidden":"true"},l?.header)},(0,n.createElement)(Ve,null,(0,a.__)("Sort by")))},i?.map(e=>{const i=t.sort?.direction;return(0,n.createElement)(_e,{key:e.id,trigger:(0,n.createElement)(Ie,null,(0,n.createElement)(Ve,null,e.header)),style:{minWidth:"220px"}},Object.entries(S).map(([a,o])=>{const s=void 0!==l&&i===a&&e.id===l.id,c=`${e.id}-${a}`;return(0,n.createElement)(xe,{key:c,name:"view-actions-sorting",value:c,checked:s,onChange:()=>{r({...t,sort:{field:e.id,direction:a}})}},(0,n.createElement)(Ve,null,o.label))}))}))}const Fe=(0,e.memo)(function({fields:e,view:r,onChangeView:i,supportedLayouts:l}){return(0,n.createElement)(_e,{trigger:(0,n.createElement)(t.Button,{size:"compact",icon:u,label:(0,a.__)("View options")})},(0,n.createElement)(Ce,null,(0,n.createElement)(Oe,{view:r,onChangeView:i,supportedLayouts:l}),(0,n.createElement)(Pe,{fields:e,view:r,onChangeView:i}),(0,n.createElement)(Ae,{fields:e,view:r,onChangeView:i}),(0,n.createElement)(Me,{view:r,onChangeView:i})))}),De=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));var Te={id:null};function Le(e,t){return t&&e.item(t)||null}var Be=Symbol("FOCUS_SILENTLY");function Re(e,t,n){if(!t)return!1;if(t===n)return!1;const r=e.item(t.id);return!(!r||n&&r.element===n)}var He=Object.defineProperty,je=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,Ge=(e,t,n)=>t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t)=>{for(var n in t||(t={}))Ue.call(t,n)&&Ge(e,n,t[n]);if(Ke)for(var n of Ke(t))We.call(t,n)&&Ge(e,n,t[n]);return e},qe=(e,t)=>je(e,ze(t)),Ye=(e,t)=>{var n={};for(var r in e)Ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ke)for(var r of Ke(e))t.indexOf(r)<0&&We.call(e,r)&&(n[r]=e[r]);return n},Xe=Object.defineProperty,Ze=Object.defineProperties,Je=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,nt=(e,t,n)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rt=(e,t)=>{for(var n in t||(t={}))et.call(t,n)&&nt(e,n,t[n]);if(Qe)for(var n of Qe(t))tt.call(t,n)&&nt(e,n,t[n]);return e},it=(e,t)=>Ze(e,Je(t));function at(...e){}function lt(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function ot(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function st(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ct(e){return e}function ut(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function dt(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function mt(...e){for(const t of e)if(void 0!==t)return t}var ft,vt="undefined"!=typeof window&&!!(null==(ft=window.document)?void 0:ft.createElement);function pt(e){return e?e.ownerDocument||e:document}function gt(e,t=!1){const{activeElement:n}=pt(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return gt(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=pt(n).getElementById(e);if(t)return t}}return n}function wt(e,t){return e===t||e.contains(t)}function Et(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==ht.indexOf(e.type)}var ht=["button","color","file","image","reset","submit"];function bt(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function yt(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function St(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function _t(e,t){var n;const r=St(e);return r&&null!=(n={menu:"menuitem",listbox:"option",tree:"treeitem",grid:"gridcell"}[r])?n:t}function Ct(e){if(!e)return null;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}return Ct(e.parentElement)||document.scrollingElement||document.body}function It(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function xt(){return!!vt&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function kt(){return vt&&xt()&&/apple/i.test(navigator.vendor)}function Vt(e){return Boolean(e.currentTarget&&!wt(e.currentTarget,e.target))}function Ot(e){return e.target===e.currentTarget}function Nt(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),i=it(rt({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",i)),r}function Mt(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function At(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!wt(n,r)}function Pt(e,t,n){const r=requestAnimationFrame(()=>{e.removeEventListener(t,i,!0),n()}),i=()=>{cancelAnimationFrame(r),n()};return e.addEventListener(t,i,{once:!0,capture:!0}),r}function Ft(e,t,n,r=window){const i=[];try{r.document.addEventListener(e,t,n);for(const a of Array.from(r.frames))i.push(Ft(e,t,n,a))}catch(e){}return()=>{try{r.document.removeEventListener(e,t,n)}catch(e){}i.forEach(e=>e())}}var Dt=$e({},r),Tt=Dt.useId,Lt=(Dt.useDeferredValue,Dt.useInsertionEffect),Bt=vt?n.useLayoutEffect:n.useEffect;function Rt(e){const t=(0,n.useRef)(()=>{throw new Error("Cannot call an event handler while rendering.")});return Lt?Lt(()=>{t.current=e}):t.current=e,(0,n.useCallback)((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}function Ht(...e){return(0,n.useMemo)(()=>{if(e.some(Boolean))return t=>{e.forEach(e=>function(e,t){"function"==typeof e?e(t):e&&(e.current=t)}(e,t))}},e)}function jt(e){if(Tt){const t=Tt();return e||t}const[t,r]=(0,n.useState)(e);return Bt(()=>{if(e||t)return;const n=Math.random().toString(36).substr(2,6);r(`id-${n}`)},[e,t]),e||t}function zt(e,t){const r=e=>{if("string"==typeof e)return e},[i,a]=(0,n.useState)(()=>r(t));return Bt(()=>{const n=e&&"current"in e?e.current:e;a((null==n?void 0:n.tagName.toLowerCase())||r(t))},[e,t]),i}function Kt(e,t){const r=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(r.current)return e();r.current=!0},t),(0,n.useEffect)(()=>()=>{r.current=!1},[])}function Ut(e){return Rt("function"==typeof e?e:()=>e)}function Wt(e,t,r=[]){const i=(0,n.useCallback)(n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n)),[...r,e.wrapElement]);return qe($e({},e),{wrapElement:i})}Symbol("setNextState");var Gt=!1,$t=0,qt=0;function Yt(e){(function(e){const t=e.movementX||e.screenX-$t,n=e.movementY||e.screenY-qt;return $t=e.screenX,qt=e.screenY,t||n||!1})(e)&&(Gt=!0)}function Xt(){Gt=!1}const Zt=window.ReactJSXRuntime;function Jt(e){return n.forwardRef((t,n)=>e($e({ref:n},t)))}function Qt(e){const t=Jt(e);return n.memo(t)}function en(e,t){const r=t,{as:i,wrapElement:a,render:l}=r,o=Ye(r,["as","wrapElement","render"]);let s;const c=Ht(t.ref,function(e){return function(e){return!!e&&!!(0,n.isValidElement)(e)&&"ref"in e}(e)?e.ref:null}(l));if(i&&"string"!=typeof i)s=(0,Zt.jsx)(i,qe($e({},o),{render:l}));else if(n.isValidElement(l)){const e=qe($e({},l.props),{ref:c});s=n.cloneElement(l,function(e,t){const n=$e({},e);for(const r in t){if(!lt(t,r))continue;if("className"===r){const r="className";n[r]=e[r]?`${e[r]} ${t[r]}`:t[r];continue}if("style"===r){const r="style";n[r]=e[r]?$e($e({},e[r]),t[r]):t[r];continue}const i=t[r];if("function"==typeof i&&r.startsWith("on")){const t=e[r];if("function"==typeof t){n[r]=(...e)=>{i(...e),t(...e)};continue}}n[r]=i}return n}(o,e))}else if(l)s=l(o);else if("function"==typeof t.children){const e=o,{children:n}=e,r=Ye(e,["children"]);s=t.children(r)}else s=i?(0,Zt.jsx)(i,$e({},o)):(0,Zt.jsx)(e,$e({},o));return a?a(s):s}function tn(e){return(t={})=>{const n=e(t),r={};for(const e in n)lt(n,e)&&void 0!==n[e]&&(r[e]=n[e]);return r}}function nn(e=[],t=[]){const r=n.createContext(void 0),i=n.createContext(void 0),a=()=>n.useContext(r),l=t=>e.reduceRight((e,n)=>(0,Zt.jsx)(n,qe($e({},t),{children:e})),(0,Zt.jsx)(r.Provider,$e({},t)));return{context:r,scopedContext:i,useContext:a,useScopedContext:(e=!1)=>{const t=n.useContext(i),r=a();return e?t:t||r},useProviderContext:()=>{const e=n.useContext(i),t=a();if(!e||e!==t)return t},ContextProvider:l,ScopedContextProvider:e=>(0,Zt.jsx)(l,qe($e({},e),{children:t.reduceRight((t,n)=>(0,Zt.jsx)(n,qe($e({},e),{children:t})),(0,Zt.jsx)(i.Provider,$e({},e)))}))}}var rn=nn(),an=rn.useContext,ln=(rn.useScopedContext,rn.useProviderContext,nn([rn.ContextProvider],[rn.ScopedContextProvider])),on=ln.useContext,sn=(ln.useScopedContext,ln.useProviderContext),cn=ln.ContextProvider,un=ln.ScopedContextProvider,dn=(0,n.createContext)(void 0),mn=(0,n.createContext)(void 0),fn="";function vn(){fn=""}function pn(e,t){var n;const r=(null==(n=e.element)?void 0:n.textContent)||e.children;return!!r&&st(r).trim().toLowerCase().startsWith(t.toLowerCase())}var gn=tn(e=>{var t=e,{store:r,typeahead:i=!0}=t,a=Ye(t,["store","typeahead"]);const l=on();ut(r=r||l,!1);const o=a.onKeyDownCapture,s=(0,n.useRef)(0),c=Rt(e=>{if(null==o||o(e),e.defaultPrevented)return;if(!i)return;if(!r)return;const{items:t,activeId:n}=r.getState();if(!function(e){const t=e.target;return(!t||!yt(t))&&(!(" "!==e.key||!fn.length)||1===e.key.length&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&/^[\p{Letter}\p{Number}]$/u.test(e.key))}(e))return vn();let a=function(e){return e.filter(e=>!e.disabled)}(t);if(!function(e,t){if(Ot(e))return!0;const n=e.target;return!!n&&t.some(e=>e.element===n)}(e,a))return vn();e.preventDefault(),window.clearTimeout(s.current),s.current=window.setTimeout(()=>{fn=""},500);const l=e.key.toLowerCase();fn+=l,a=function(e,t,n){if(!n)return e;const r=e.find(e=>e.id===n);return r&&pn(r,t)?fn!==t&&pn(r,fn)?e:(fn=t,function(e,t,n=!1){const r=e.findIndex(e=>e.id===t);return[...e.slice(r+1),...n?[Te]:[],...e.slice(0,r)]}(e.filter(e=>pn(e,fn)),n).filter(e=>e.id!==n)):e}(a,l,n);const c=a.find(e=>pn(e,fn));c?r.move(c.id):vn()});return qe($e({},a),{onKeyDownCapture:c})}),wn=Jt(e=>en("div",gn(e)));function En(e){return!!bt(e,"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])")&&!!function(e){const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!function(e,t){if("closest"in e)return e.closest(t);do{if(bt(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}(e,"[inert]")}function hn(e){const t=gt(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function bn(e){const t=gt(e);if(!t)return!1;if(wt(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}function yn(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var Sn=Symbol("composite-hover"),Cn=tn(e=>{var t=e,{store:r,focusOnHover:i=!0,blurOnHoverEnd:a=!!i}=t,l=Ye(t,["store","focusOnHover","blurOnHoverEnd"]);const o=on();ut(r=r||o,!1);const s=((0,n.useEffect)(()=>{Ft("mousemove",Yt,!0),Ft("mousedown",Xt,!0),Ft("mouseup",Xt,!0),Ft("keydown",Xt,!0),Ft("scroll",Xt,!0)},[]),Rt(()=>Gt)),c=l.onMouseMove,u=Ut(i),d=Rt(e=>{if(null==c||c(e),!e.defaultPrevented&&s()&&u(e)){if(!bn(e.currentTarget)){const e=null==r?void 0:r.getState().baseElement;e&&!hn(e)&&e.focus()}null==r||r.setActiveId(e.currentTarget.id)}}),m=l.onMouseLeave,f=Ut(a),v=Rt(e=>{var t;null==m||m(e),e.defaultPrevented||s()&&(function(e){const t=yn(e);return!!t&&wt(e.currentTarget,t)}(e)||function(e){let t=yn(e);if(!t)return!1;do{if(lt(t,Sn)&&t[Sn])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&f(e)&&(null==r||r.setActiveId(null),null==(t=null==r?void 0:r.getState().baseElement)||t.focus()))}),p=(0,n.useCallback)(e=>{e&&(e[Sn]=!0)},[]);return qe($e({},l),{ref:Ht(p,l.ref),onMouseMove:d,onMouseLeave:v})}),In=Qt(e=>en("div",Cn(e)));function xn(e,t){const n=e.__unstableInternals;return ut(n,"Invalid store"),n[t]}function kn(e,...t){let n=e,r=n,i=Symbol(),a=at;const l=new Set,o=new Set,s=new Set,c=new Set,u=new Set,d=new WeakMap,m=new WeakMap,f=(e,t,n=c)=>(n.add(t),m.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),m.delete(t),n.delete(t)}),v=(e,a,l=!1)=>{if(!lt(n,e))return;const s=(f=a,v=n[e],function(e){return"function"==typeof e}(f)?f(function(e){return"function"==typeof e}(v)?v():v):f);var f,v;if(s===n[e])return;l||t.forEach(t=>{var n;null==(n=null==t?void 0:t.setState)||n.call(t,e,s)});const p=n;n=it(rt({},n),{[e]:s});const g=Symbol();i=g,o.add(e);const w=(t,r,i)=>{var a;const l=m.get(t);l&&!l.some(t=>i?i.has(t):t===e)||(null==(a=d.get(t))||a(),d.set(t,t(n,r)))};c.forEach(e=>{w(e,p)}),queueMicrotask(()=>{if(i!==g)return;const e=n;u.forEach(e=>{w(e,r,o)}),r=e,o.clear()})},p={getState:()=>n,setState:v,__unstableInternals:{setup:e=>(s.add(e),()=>s.delete(e)),init:()=>{const e=l.size,r=Symbol();l.add(r);const i=()=>{l.delete(r),l.size||a()};if(e)return i;const o=(c=n,Object.keys(c)).map(e=>ot(...t.map(t=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(r&&lt(r,e))return Mn(t,[e],t=>{v(e,t[e],!0)})})));var c;const u=[];s.forEach(e=>u.push(e()));const d=t.map(On);return a=ot(...o,...u,...d),i},subscribe:(e,t)=>f(e,t),sync:(e,t)=>(d.set(t,t(n,n)),f(e,t)),batch:(e,t)=>(d.set(t,t(n,r)),f(e,t,u)),pick:e=>kn(function(e,t){const n={};for(const r of t)lt(e,r)&&(n[r]=e[r]);return n}(n,e),p),omit:e=>kn(function(e,t){const n=rt({},e);for(const e of t)lt(n,e)&&delete n[e];return n}(n,e),p)}};return p}function Vn(e,...t){if(e)return xn(e,"setup")(...t)}function On(e,...t){if(e)return xn(e,"init")(...t)}function Nn(e,...t){if(e)return xn(e,"subscribe")(...t)}function Mn(e,...t){if(e)return xn(e,"sync")(...t)}function An(e,...t){if(e)return xn(e,"batch")(...t)}function Pn(e,...t){if(e)return xn(e,"omit")(...t)}function Fn(...e){const t=e.reduce((e,t)=>{var n;const r=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);return r?rt(rt({},e),r):e},{});return kn(t,...e)}var Dn=i(888),{useSyncExternalStore:Tn}=Dn;function Ln(e,t=ct){const r=n.useCallback(t=>e?Nn(e,null,t):()=>{},[e]),i=()=>{const n="string"==typeof t?t:null,r="function"==typeof t?t:null,i=null==e?void 0:e.getState();return r?r(i):i&&n&&lt(i,n)?i[n]:void 0};return Tn(r,i,i)}function Bn(e,t,r,i){const a=lt(t,r)?t[r]:void 0,l=i?t[i]:void 0,o=function(e){const t=(0,n.useRef)(e);return Bt(()=>{t.current=e}),t}({value:a,setValue:l});Bt(()=>Mn(e,[r],(e,t)=>{const{value:n,setValue:i}=o.current;i&&e[r]!==t[r]&&e[r]!==n&&i(e[r])}),[e,r]),Bt(()=>{if(void 0!==a)return e.setState(r,a),An(e,[r],()=>{void 0!==a&&e.setState(r,a)})})}function Rn(e,t,n){return Bn(e=function(e,t,n){return Kt(t,[n.store]),Bn(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),Bn(e,n,"includesBaseElement"),Bn(e,n,"virtualFocus"),Bn(e,n,"orientation"),Bn(e,n,"rtl"),Bn(e,n,"focusLoop"),Bn(e,n,"focusWrap"),Bn(e,n,"focusShift"),e}function Hn(e,t,n){return function(e,t,n){return Kt(t,[n.store,n.disclosure]),Bn(e,n,"open","setOpen"),Bn(e,n,"mounted","setMounted"),Bn(e,n,"animated"),e}(e,t,n)}function jn(e={}){var t=e,{popover:n}=t,r=((e,t)=>{var n={};for(var r in e)et.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Qe)for(var r of Qe(e))t.indexOf(r)<0&&tt.call(e,r)&&(n[r]=e[r]);return n})(t,["popover"]);const i=Fn(r.store,Pn(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),a=null==i?void 0:i.getState(),l=function(e={}){return function(e={}){const t=Fn(e.store,Pn(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),r=mt(e.open,null==n?void 0:n.open,e.defaultOpen,!1),i=mt(e.animated,null==n?void 0:n.animated,!1),a=kn({open:r,animated:i,animating:!!i&&r,mounted:r,contentElement:mt(null==n?void 0:n.contentElement,null),disclosureElement:mt(null==n?void 0:n.disclosureElement,null)},t);return Vn(a,()=>Mn(a,["animated","animating"],e=>{e.animated||a.setState("animating",!1)})),Vn(a,()=>Nn(a,["open"],()=>{a.getState().animated&&a.setState("animating",!0)})),Vn(a,()=>Mn(a,["open","animating"],e=>{a.setState("mounted",e.open||e.animating)})),it(rt({},a),{setOpen:e=>a.setState("open",e),show:()=>a.setState("open",!0),hide:()=>a.setState("open",!1),toggle:()=>a.setState("open",e=>!e),stopAnimation:()=>a.setState("animating",!1),setContentElement:e=>a.setState("contentElement",e),setDisclosureElement:e=>a.setState("disclosureElement",e)})}(e)}(it(rt({},r),{store:i})),o=mt(r.placement,null==a?void 0:a.placement,"bottom"),s=kn(it(rt({},l.getState()),{placement:o,currentPlacement:o,anchorElement:mt(null==a?void 0:a.anchorElement,null),popoverElement:mt(null==a?void 0:a.popoverElement,null),arrowElement:mt(null==a?void 0:a.arrowElement,null),rendered:Symbol("rendered")}),l,i);return it(rt(rt({},l),s),{setAnchorElement:e=>s.setState("anchorElement",e),setPopoverElement:e=>s.setState("popoverElement",e),setArrowElement:e=>s.setState("arrowElement",e),render:()=>s.setState("rendered",Symbol("rendered"))})}function zn(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=mt(e.items,null==n?void 0:n.items,e.defaultItems,[]),i=new Map(r.map(e=>[e.id,e])),a={items:r,renderedItems:mt(null==n?void 0:n.renderedItems,[])},l=null==(o=e.store)?void 0:o.__unstablePrivateStore;var o;const s=kn({items:r,renderedItems:a.renderedItems},l),c=kn(a,e.store),u=e=>{const t=function(e){const t=e.map((e,t)=>[t,e]);let n=!1;return t.sort(([e,t],[r,i])=>{const a=t.element,l=i.element;return a===l?0:a&&l?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(a,l)?(e>r&&(n=!0),-1):(e<r&&(n=!0),1):0}),n?t.map(([e,t])=>t):e}(e);s.setState("renderedItems",t),c.setState("renderedItems",t)};Vn(c,()=>On(s)),Vn(s,()=>An(s,["items"],e=>{c.setState("items",e.items)})),Vn(s,()=>An(s,["renderedItems"],e=>{let t=!0,n=requestAnimationFrame(()=>{const{renderedItems:t}=c.getState();e.renderedItems!==t&&u(e.renderedItems)});if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const r=function(e){var t;const n=e.find(e=>!!e.element),r=[...e].reverse().find(e=>!!e.element);let i=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;i&&(null==r?void 0:r.element);){if(r&&i.contains(r.element))return i;i=i.parentElement}return pt(i).body}(e.renderedItems),i=new IntersectionObserver(()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame(()=>u(e.renderedItems)))},{root:r});for(const t of e.renderedItems)t.element&&i.observe(t.element);return()=>{cancelAnimationFrame(n),i.disconnect()}}));const d=(e,t,n=!1)=>{let r;return t(t=>{const n=t.findIndex(({id:t})=>t===e.id),a=t.slice();if(-1!==n){r=t[n];const l=rt(rt({},r),e);a[n]=l,i.set(e.id,l)}else a.push(e),i.set(e.id,e);return a}),()=>{t(t=>{if(!r)return n&&i.delete(e.id),t.filter(({id:t})=>t!==e.id);const a=t.findIndex(({id:t})=>t===e.id);if(-1===a)return t;const l=t.slice();return l[a]=r,i.set(e.id,r),l})}},m=e=>d(e,e=>s.setState("items",e),!0);return it(rt({},c),{registerItem:m,renderItem:e=>ot(m(e),d(e,e=>s.setState("renderedItems",e))),item:e=>{if(!e)return null;let t=i.get(e);if(!t){const{items:n}=c.getState();t=n.find(t=>t.id===e),t&&i.set(e,t)}return t||null},__unstablePrivateStore:s})}function Kn(e){const t=[];for(const n of e)t.push(...n);return t}function Un(e){return e.slice().reverse()}var Wn={id:null};function Gn(e,t){return e.find(e=>t?!e.disabled&&e.id!==t:!e.disabled)}function $n(e,t){return e.filter(e=>e.rowId===t)}function qn(e){const t=[];for(const n of e){const e=t.find(e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId});e?e.push(n):t.push([n])}return t}function Yn(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}function Xn(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}function Zn(e,t,n){const r=Yn(e);for(const i of e)for(let e=0;e<r;e+=1){const r=i[e];if(!r||n&&r.disabled){const r=0===e&&n?Gn(i):i[e-1];i[e]=r&&t!==r.id&&n?r:Xn(null==r?void 0:r.rowId)}}return e}function Jn(e){const t=qn(e),n=Yn(t),r=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&r.push(it(rt({},t),{rowId:t.rowId?`${e}`:void 0}))}return r}var Qn=kt()&&vt&&!!navigator.maxTouchPoints;function er(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),r=mt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId,null),i=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),r=zn(e),i=mt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),a=kn(it(rt({},r.getState()),{activeId:i,baseElement:mt(null==n?void 0:n.baseElement,null),includesBaseElement:mt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===i),moves:mt(null==n?void 0:n.moves,0),orientation:mt(e.orientation,null==n?void 0:n.orientation,"both"),rtl:mt(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:mt(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:mt(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:mt(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:mt(e.focusShift,null==n?void 0:n.focusShift,!1)}),r,e.store);Vn(a,()=>Mn(a,["renderedItems","activeId"],e=>{a.setState("activeId",t=>{var n;return void 0!==t?t:null==(n=Gn(e.renderedItems))?void 0:n.id})}));const l=(e,t,n,r)=>{var i,l;const{activeId:o,rtl:s,focusLoop:c,focusWrap:u,includesBaseElement:d}=a.getState(),m=s&&"vertical"!==t?Un(e):e;if(null==o)return null==(i=Gn(m))?void 0:i.id;const f=m.find(e=>e.id===o);if(!f)return null==(l=Gn(m))?void 0:l.id;const v=!!f.rowId,p=m.indexOf(f),g=m.slice(p+1),w=$n(g,f.rowId);if(void 0!==r){const e=function(e,t){return e.filter(e=>t?!e.disabled&&e.id!==t:!e.disabled)}(w,o),t=e.slice(r)[0]||e[e.length-1];return null==t?void 0:t.id}const E=function(e){return"vertical"===e?"horizontal":"horizontal"===e?"vertical":void 0}(v?t||"horizontal":t),h=c&&c!==E,b=v&&u&&u!==E;if(n=n||!v&&h&&d,h){const e=function(e,t,n=!1){const r=e.findIndex(e=>e.id===t);return[...e.slice(r+1),...n?[Wn]:[],...e.slice(0,r)]}(b&&!n?m:$n(m,f.rowId),o,n),t=Gn(e,o);return null==t?void 0:t.id}if(b){const e=Gn(n?w:g,o);return n?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const y=Gn(w,o);return!y&&n?null:null==y?void 0:y.id};return it(rt(rt({},r),a),{setBaseElement:e=>a.setState("baseElement",e),setActiveId:e=>a.setState("activeId",e),move:e=>{void 0!==e&&(a.setState("activeId",e),a.setState("moves",e=>e+1))},first:()=>{var e;return null==(e=Gn(a.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=Gn(Un(a.getState().renderedItems)))?void 0:e.id},next:e=>{const{renderedItems:t,orientation:n}=a.getState();return l(t,n,!1,e)},previous:e=>{var t;const{renderedItems:n,orientation:r,includesBaseElement:i}=a.getState(),o=!(null==(t=Gn(n))?void 0:t.rowId)&&i;return l(Un(n),r,o,e)},down:e=>{const{activeId:t,renderedItems:n,focusShift:r,focusLoop:i,includesBaseElement:o}=a.getState(),s=r&&!e,c=Jn(Kn(Zn(qn(n),t,s)));return l(c,"vertical",i&&"horizontal"!==i&&o,e)},up:e=>{const{activeId:t,renderedItems:n,focusShift:r,includesBaseElement:i}=a.getState(),o=r&&!e,s=Jn(Un(Kn(Zn(qn(n),t,o))));return l(s,"vertical",i,e)}})}(it(rt({},e),{activeId:r,includesBaseElement:mt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,!0),orientation:mt(e.orientation,null==n?void 0:n.orientation,"vertical"),focusLoop:mt(e.focusLoop,null==n?void 0:n.focusLoop,!0),focusWrap:mt(e.focusWrap,null==n?void 0:n.focusWrap,!0),virtualFocus:mt(e.virtualFocus,null==n?void 0:n.virtualFocus,!Qn)})),a=jn(it(rt({},e),{placement:mt(e.placement,null==n?void 0:n.placement,"bottom-start")})),l=mt(e.value,null==n?void 0:n.value,e.defaultValue,""),o=mt(e.selectedValue,null==n?void 0:n.selectedValue,e.defaultSelectedValue,""),s=Array.isArray(o),c=kn(it(rt(rt({},i.getState()),a.getState()),{value:l,selectedValue:o,resetValueOnSelect:mt(e.resetValueOnSelect,null==n?void 0:n.resetValueOnSelect,s),resetValueOnHide:mt(e.resetValueOnHide,null==n?void 0:n.resetValueOnHide,s),activeValue:null==n?void 0:n.activeValue}),i,a,e.store);return Vn(c,()=>Mn(c,["resetValueOnHide","mounted"],e=>{e.resetValueOnHide&&(e.mounted||c.setState("value",l))})),Vn(c,()=>Mn(c,["resetValueOnSelect","selectedValue"],e=>{e.resetValueOnSelect&&c.setState("value",l)})),Vn(c,()=>An(c,["mounted"],e=>{e.mounted||(c.setState("activeId",r),c.setState("moves",0))})),Vn(c,()=>Mn(c,["moves","activeId"],(e,t)=>{e.moves===t.moves&&c.setState("activeValue",void 0)})),Vn(c,()=>An(c,["moves","renderedItems"],(e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=c.getState(),r=i.item(n);c.setState("activeValue",null==r?void 0:r.value)})),it(rt(rt(rt({},a),i),c),{setValue:e=>c.setState("value",e),setSelectedValue:e=>c.setState("selectedValue",e)})}function tr(e={}){const[t,r]=function(e,t){const[r,i]=n.useState(()=>e(t));Bt(()=>On(r),[r]);const a=n.useCallback(e=>Ln(r,e),[r]);return[n.useMemo(()=>qe($e({},r),{useState:a}),[r,a]),Rt(()=>{i(n=>e($e($e({},t),n.getState())))})]}(er,e);return function(e,t,n){return Bn(e=Rn(e=function(e,t,n){return Kt(t,[n.popover]),Bn(e=Hn(e,t,n),n,"placement"),e}(e,t,n),t,n),n,"value","setValue"),Bn(e,n,"selectedValue","setSelectedValue"),Bn(e,n,"resetValueOnHide"),Bn(e,n,"resetValueOnSelect"),e}(t,r,e)}var nr=nn(),rr=(nr.useContext,nr.useScopedContext,nr.useProviderContext),ir=nn([nr.ContextProvider],[nr.ScopedContextProvider]),ar=(ir.useContext,ir.useScopedContext,ir.useProviderContext,ir.ContextProvider),lr=ir.ScopedContextProvider,or=((0,n.createContext)(void 0),(0,n.createContext)(void 0),nn([ar],[lr])),sr=(or.useContext,or.useScopedContext,or.useProviderContext),cr=or.ContextProvider,ur=or.ScopedContextProvider,dr=nn([cr,cn],[ur,un]),mr=(dr.useContext,dr.useScopedContext),fr=dr.useProviderContext,vr=dr.ContextProvider,pr=dr.ScopedContextProvider,gr=(0,n.createContext)(void 0),wr=(0,n.createContext)(!1);function Er(e={}){const t=tr(e);return(0,Zt.jsx)(vr,{value:t,children:e.children})}var hr=tn(e=>{var t=e,{store:n}=t,r=Ye(t,["store"]);const i=fr();ut(n=n||i,!1);const a=n.useState(e=>{var t;return null==(t=e.baseElement)?void 0:t.id});return $e({htmlFor:a},r)}),br=Qt(e=>en("label",hr(e))),yr=tn(e=>{var t=e,{store:n}=t,r=Ye(t,["store"]);const i=sr();return n=n||i,qe($e({},r),{ref:Ht(null==n?void 0:n.setAnchorElement,r.ref)})});Jt(e=>en("div",yr(e)));var Sr=(0,n.createContext)(!0),_r=kt(),Cr=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"];function Ir(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function xr(e,t,n,r,i){return e?t?n&&!r?-1:void 0:n?i:i||0:i}function kr(e,t){return Rt(n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())})}var Vr=!0;function Or(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(Vr=!1))}function Nr(e){e.metaKey||e.ctrlKey||e.altKey||(Vr=!0)}var Mr=tn(e=>{var t=e,{focusable:r=!0,accessibleWhenDisabled:i,autoFocus:a,onFocusVisible:l}=t,o=Ye(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const s=(0,n.useRef)(null);(0,n.useEffect)(()=>{r&&(Ft("mousedown",Or,!0),Ft("keydown",Nr,!0))},[r]),_r&&(0,n.useEffect)(()=>{if(!r)return;const e=s.current;if(!e)return;if(!Ir(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const n=()=>queueMicrotask(()=>e.focus());return t.forEach(e=>e.addEventListener("mouseup",n)),()=>{t.forEach(e=>e.removeEventListener("mouseup",n))}},[r]);const c=r&&dt(o),u=!!c&&!i,[d,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{r&&u&&d&&m(!1)},[r,u,d]),(0,n.useEffect)(()=>{if(!r)return;if(!d)return;const e=s.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver(()=>{En(e)||m(!1)});return t.observe(e),()=>t.disconnect()},[r,d]);const f=kr(o.onKeyPressCapture,c),v=kr(o.onMouseDownCapture,c),p=kr(o.onClickCapture,c),g=o.onMouseDown,w=Rt(e=>{if(null==g||g(e),e.defaultPrevented)return;if(!r)return;const t=e.currentTarget;if(!_r)return;if(Vt(e))return;if(!Et(t)&&!Ir(t))return;let n=!1;const i=()=>{n=!0};t.addEventListener("focusin",i,{capture:!0,once:!0}),Pt(t,"mouseup",()=>{t.removeEventListener("focusin",i,!0),n||function(e){!bn(e)&&En(e)&&e.focus()}(t)})}),E=(e,t)=>{if(t&&(e.currentTarget=t),!r)return;const n=e.currentTarget;n&&hn(n)&&(null==l||l(e),e.defaultPrevented||m(!0))},h=o.onKeyDownCapture,b=Rt(e=>{if(null==h||h(e),e.defaultPrevented)return;if(!r)return;if(d)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!Ot(e))return;const t=e.currentTarget;queueMicrotask(()=>E(e,t))}),y=o.onFocusCapture,S=Rt(e=>{if(null==y||y(e),e.defaultPrevented)return;if(!r)return;if(!Ot(e))return void m(!1);const t=e.currentTarget,n=()=>E(e,t);Vr||function(e){const{tagName:t,readOnly:n,type:r}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable:Cr.includes(r))}(e.target)?queueMicrotask(n):function(e){return"combobox"===e.getAttribute("role")&&!!e.dataset.name}(e.target)?Pt(e.target,"focusout",n):m(!1)}),_=o.onBlur,C=Rt(e=>{null==_||_(e),r&&At(e)&&m(!1)}),I=(0,n.useContext)(Sr),x=Rt(e=>{r&&a&&e&&I&&queueMicrotask(()=>{hn(e)||En(e)&&e.focus()})}),k=zt(s,o.as),V=r&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(k),O=r&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(k),N=u?$e({pointerEvents:"none"},o.style):o.style;return qe($e({"data-focus-visible":r&&d?"":void 0,"data-autofocus":!!a||void 0,"aria-disabled":!!c||void 0},o),{ref:Ht(s,x,o.ref),style:N,tabIndex:xr(r,u,V,O,o.tabIndex),disabled:!(!O||!u)||void 0,contentEditable:c?void 0:o.contentEditable,onKeyPressCapture:f,onClickCapture:p,onMouseDownCapture:v,onMouseDown:w,onKeyDownCapture:b,onFocusCapture:S,onBlur:C})});function Ar(e,t,n){return Rt(r=>{var i;if(null==t||t(r),r.defaultPrevented)return;if(r.isPropagationStopped())return;if(!Ot(r))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(r))return;if(function(e){const t=e.target;return!(t&&!yt(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(r))return;const a=e.getState(),l=null==(i=Le(e,a.activeId))?void 0:i.element;if(!l)return;const o=r,{view:s}=o,c=Ye(o,["view"]);l!==(null==n?void 0:n.current)&&l.focus(),function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)}(l,r.type,c)||r.preventDefault(),r.currentTarget.contains(l)&&r.stopPropagation()})}Jt(e=>en("div",e=Mr(e)));var Pr=tn(e=>{var t=e,{store:r,composite:i=!0,focusOnMove:a=i,moveOnKeyPress:l=!0}=t,o=Ye(t,["store","composite","focusOnMove","moveOnKeyPress"]);const s=sn();ut(r=r||s,!1);const c=(0,n.useRef)(null),u=function(e){const[t,r]=(0,n.useState)(!1),i=(0,n.useCallback)(()=>r(!0),[]),a=e.useState(t=>Le(e,t.activeId));return(0,n.useEffect)(()=>{const e=null==a?void 0:a.element;t&&e&&(r(!1),e.focus({preventScroll:!0}))},[a,t]),i}(r),d=r.useState("moves");(0,n.useEffect)(()=>{var e;if(!r)return;if(!d)return;if(!i)return;if(!a)return;const{activeId:t}=r.getState(),n=null==(e=Le(r,t))?void 0:e.element;var l;n&&("scrollIntoView"in(l=n)?(l.focus({preventScroll:!0}),l.scrollIntoView(rt({block:"nearest",inline:"nearest"},void 0))):l.focus())},[r,d,i,a]),Bt(()=>{if(!r)return;if(!d)return;if(!i)return;const{baseElement:e,activeId:t}=r.getState();if(null!==t)return;if(!e)return;const n=c.current;c.current=null,n&&Nt(n,{relatedTarget:e}),hn(e)||e.focus()},[r,d,i]);const m=r.useState("activeId"),f=r.useState("virtualFocus");Bt(()=>{var e;if(!r)return;if(!i)return;if(!f)return;const t=c.current;if(c.current=null,!t)return;const n=(null==(e=Le(r,m))?void 0:e.element)||gt(t);n!==t&&Nt(t,{relatedTarget:n})},[r,m,f,i]);const v=Ar(r,o.onKeyDownCapture,c),p=Ar(r,o.onKeyUpCapture,c),g=o.onFocusCapture,w=Rt(e=>{if(null==g||g(e),e.defaultPrevented)return;if(!r)return;const{virtualFocus:t}=r.getState();if(!t)return;const n=e.relatedTarget,i=function(e){const t=e[Be];return delete e[Be],t}(e.currentTarget);Ot(e)&&i&&(e.stopPropagation(),c.current=n)}),E=o.onFocus,h=Rt(e=>{if(null==E||E(e),e.defaultPrevented)return;if(!i)return;if(!r)return;const{relatedTarget:t}=e,{virtualFocus:n}=r.getState();n?Ot(e)&&!Re(r,t)&&queueMicrotask(u):Ot(e)&&r.setActiveId(null)}),b=o.onBlurCapture,y=Rt(e=>{var t;if(null==b||b(e),e.defaultPrevented)return;if(!r)return;const{virtualFocus:n,activeId:i}=r.getState();if(!n)return;const a=null==(t=Le(r,i))?void 0:t.element,l=e.relatedTarget,o=Re(r,l),s=c.current;c.current=null,Ot(e)&&o?(l===a?s&&s!==l&&Nt(s,e):a?Nt(a,e):s&&Nt(s,e),e.stopPropagation()):!Re(r,e.target)&&a&&Nt(a,e)}),S=o.onKeyDown,_=Ut(l),C=Rt(e=>{var t;if(null==S||S(e),e.defaultPrevented)return;if(!r)return;if(!Ot(e))return;const{orientation:n,items:i,renderedItems:a,activeId:l}=r.getState(),o=Le(r,l);if(null==(t=null==o?void 0:o.element)?void 0:t.isConnected)return;const s="horizontal"!==n,c="vertical"!==n,u=function(e){return e.some(e=>!!e.rowId)}(a);if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&yt(e.currentTarget))return;const d={ArrowUp:(u||s)&&(()=>{if(u){const e=i&&function(e){return function(e){return e.find(e=>!e.disabled)}(Kn(Un(function(e){const t=[];for(const n of e){const e=t.find(e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId});e?e.push(n):t.push([n])}return t}(e))))}(i);return null==e?void 0:e.id}return null==r?void 0:r.last()}),ArrowRight:(u||c)&&r.first,ArrowDown:(u||s)&&r.first,ArrowLeft:(u||c)&&r.last,Home:r.first,End:r.last,PageUp:r.first,PageDown:r.last},m=d[e.key];if(m){const t=m();if(void 0!==t){if(!_(e))return;e.preventDefault(),r.move(t)}}});o=Wt(o,e=>(0,Zt.jsx)(cn,{value:r,children:e}),[r]);const I=r.useState(e=>{var t;if(r&&i&&e.virtualFocus)return null==(t=Le(r,e.activeId))?void 0:t.id});o=qe($e({"aria-activedescendant":I},o),{ref:Ht(i?r.setBaseElement:null,o.ref),onKeyDownCapture:v,onKeyUpCapture:p,onFocusCapture:w,onFocus:h,onBlurCapture:y,onKeyDown:C});const x=r.useState(e=>i&&(e.virtualFocus||null===e.activeId));return Mr($e({focusable:x},o))});Jt(e=>en("div",Pr(e)));const Fr=window.ReactDOM;function Dr(e,t,n){if(!n)return!1;const r=e.find(e=>!e.disabled&&e.value);return(null==r?void 0:r.value)===t}function Tr(e,t){return!!t&&null!=e&&(e=st(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}var Lr=tn(e=>{var t=e,{store:r,focusable:i=!0,autoSelect:a=!1,getAutoSelectId:l,showOnChange:o=!0,setValueOnChange:s=!0,showOnMouseDown:c=!0,setValueOnClick:u=!0,showOnKeyDown:d=!0,moveOnKeyPress:m=!0,autoComplete:f="list"}=t,v=Ye(t,["store","focusable","autoSelect","getAutoSelectId","showOnChange","setValueOnChange","showOnMouseDown","setValueOnClick","showOnKeyDown","moveOnKeyPress","autoComplete"]);const p=fr();ut(r=r||p,!1);const g=(0,n.useRef)(null),[w,E]=(0,n.useReducer)(()=>[],[]),h=(0,n.useRef)(!1),b=(0,n.useRef)(!1),y=r.useState(e=>!!a&&e.virtualFocus),S="inline"===f||"both"===f,[_,C]=(0,n.useState)(S);!function(e,t){const r=(0,n.useRef)(!1);Bt(()=>{r.current?S&&C(!0):r.current=!0},t),Bt(()=>()=>{r.current=!1},[])}(0,[S]);const I=r.useState("value"),x=r.useState(e=>S&&_?e.activeValue:void 0),k=r.useState("renderedItems"),V=r.useState("open"),O=r.useState("contentElement"),N=(0,n.useMemo)(()=>{if(!S)return I;if(!_)return I;if(Dr(k,x,y)){if(Tr(I,x)){const e=(null==x?void 0:x.slice(I.length))||"";return I+e}return I}return x||I},[S,_,k,x,y,I]);(0,n.useEffect)(()=>{const e=g.current;if(!e)return;const t=()=>C(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}},[]),(0,n.useEffect)(()=>{S&&_&&x&&Dr(k,x,y)&&Tr(I,x)&&queueMicrotask(()=>{const e=g.current;e&&It(e,I.length,x.length)})},[w,S,_,x,k,y,I]);const M=(0,n.useRef)(null),A=Rt(l),P=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!V)return;if(!O)return;const e=Ct(O);if(!e)return;M.current=e;const t=()=>{h.current=!1},n=()=>{if(!r)return;if(!h.current)return;const{activeId:e}=r.getState();null!==e&&e!==P.current&&(h.current=!1)},i={passive:!0,capture:!0};return e.addEventListener("wheel",t,i),e.addEventListener("scroll",n,i),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("scroll",n,!0)}},[V,O,r]),Bt(()=>{I&&(b.current||(h.current=!0))},[I]),Bt(()=>{V||(h.current=!1)},[V]);const F=r.useState("resetValueOnSelect");Kt(()=>{var e;const t=h.current;if(!r)return;if(!(y&&t||F))return;const{baseElement:n,contentElement:i,activeId:a}=r.getState();if(!n||hn(n)){if(null==i?void 0:i.hasAttribute("data-placing")){const e=new MutationObserver(E);return e.observe(i,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(y&&t){const e=A(k),t=void 0!==e?e:r.first();P.current=t,r.move(null!=t?t:null)}else{const t=null==(e=r.item(a))?void 0:e.element;t&&"scrollIntoView"in t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}}},[r,w,I,y,F,A,k]),(0,n.useEffect)(()=>{if(!S)return;const e=g.current;if(!e)return;const t=[e,O].filter(e=>!!e),n=e=>{t.every(t=>At(e,t))&&(null==r||r.setValue(N))};return t.forEach(e=>e.addEventListener("focusout",n)),()=>{t.forEach(e=>e.removeEventListener("focusout",n))}},[S,O,r,N]);const D=v.onChange,T=Ut(o),L=Ut(s),B=Rt(e=>{if(null==D||D(e),e.defaultPrevented)return;if(!r)return;const{value:t,selectionStart:n,selectionEnd:i}=e.target,a=e.nativeEvent;if(h.current=!0,function(e){return"input"===e.type}(a)&&(a.isComposing&&(h.current=!1,b.current=!0),S)){const e="insertText"===a.inputType||"insertCompositionText"===a.inputType,r=n===t.length;C(e&&r)}if(L(e)){const a=t===r.getState().value;(0,Fr.flushSync)(()=>null==r?void 0:r.setValue(t)),It(e.currentTarget,n,i),S&&y&&a&&E()}T(e)&&r.show(),y&&h.current||r.setActiveId(null)}),R=v.onCompositionEnd,H=Rt(e=>{h.current=!0,b.current=!1,null==R||R(e),e.defaultPrevented||y&&E()}),j=v.onMouseDown,z=Ut(u),K=Ut(c),U=Rt(e=>{null==j||j(e),e.defaultPrevented||e.button||e.ctrlKey||r&&(r.setActiveId(null),z(e)&&r.setValue(N),K(e)&&Pt(e.currentTarget,"mouseup",r.show))}),W=v.onKeyDown,G=Ut(d),$=Rt(e=>{if(null==W||W(e),e.repeat||(h.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!r)return;const{open:t,activeId:n}=r.getState();t||null===n&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||G(e)&&(e.preventDefault(),r.show()))}),q=v.onBlur,Y=Rt(e=>{h.current=!1,null==q||q(e),e.defaultPrevented}),X=jt(v.id),Z=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(f)?f:void 0,J=r.useState(e=>null===e.activeId);return v=qe($e({id:X,role:"combobox","aria-autocomplete":Z,"aria-haspopup":St(O,"listbox"),"aria-expanded":V,"aria-controls":null==O?void 0:O.id,"data-active-item":J||void 0,value:N},v),{ref:Ht(g,v.ref),onChange:B,onCompositionEnd:H,onMouseDown:U,onKeyDown:$,onBlur:Y}),v=Pr(qe($e({store:r,focusable:i},v),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(m,e)&&(S&&C(!0),!0)})),v=yr($e({store:r},v)),$e({autoComplete:"off"},v)}),Br=Jt(e=>en("input",Lr(e)));function Rr(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function Hr(...e){return e.join(", ").split(", ").reduce((e,t)=>{const n=1e3*parseFloat(t||"0s");return n>e?n:e},0)}function jr(e,t,n){return!(n||!1===t||e&&!t)}var zr=tn(e=>{var t=e,{store:r,alwaysVisible:i}=t,a=Ye(t,["store","alwaysVisible"]);const l=rr();ut(r=r||l,!1);const o=jt(a.id),[s,c]=(0,n.useState)(null),u=r.useState("open"),d=r.useState("mounted"),m=r.useState("animated"),f=r.useState("contentElement");Bt(()=>{if(m){if(null==f?void 0:f.isConnected)return function(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}(()=>{c(u?"enter":"leave")});c(null)}},[m,f,u]),Bt(()=>{if(!r)return;if(!m)return;if(!f)return;if(!s)return;if("enter"===s&&!u)return;if("leave"===s&&u)return;if("number"==typeof m)return Rr(m,r.stopAnimation);const{transitionDuration:e,animationDuration:t,transitionDelay:n,animationDelay:i}=getComputedStyle(f),a=Hr(n,i)+Hr(e,t);return a?Rr(a,r.stopAnimation):void 0},[r,m,f,u,s]);const v=jr(d,(a=Wt(a,e=>(0,Zt.jsx)(lr,{value:r,children:e}),[r])).hidden,i),p=v?qe($e({},a.style),{display:"none"}):a.style;return qe($e({id:o,"data-enter":"enter"===s?"":void 0,"data-leave":"leave"===s?"":void 0,hidden:v},a),{ref:Ht(o?r.setContentElement:null,a.ref),style:p})}),Kr=Jt(e=>en("div",zr(e)));Jt(e=>{var t=e,{unmountOnHide:n}=t,r=Ye(t,["unmountOnHide"]);const i=rr();return!1===Ln(r.store||i,e=>!n||(null==e?void 0:e.mounted))?null:(0,Zt.jsx)(Kr,$e({},r))});var Ur=tn(e=>{var t=e,{store:r,focusable:i=!0,alwaysVisible:a}=t,l=Ye(t,["store","focusable","alwaysVisible"]);const o=fr();ut(r=r||o,!1);const s=(0,n.useRef)(null),c=jt(l.id),u=l.onKeyDown,d=Rt(e=>{null==u||u(e),e.defaultPrevented||"Escape"===e.key&&(null==r||r.move(null))}),m=(0,n.useRef)(!1),f=l.onFocusVisible,v=Rt(e=>{if(null==f||f(e),e.defaultPrevented)return;if("focus"!==e.type)return;if(!r)return;const{virtualFocus:t}=r.getState();if(!t)return;const{relatedTarget:n,currentTarget:i}=e;n&&i.contains(n)||(m.current=!0,r.setState("virtualFocus",!1))}),p=l.onBlur,g=Rt(e=>{null==p||p(e),e.defaultPrevented||m.current&&At(e)&&(m.current=!1,null==r||r.setState("virtualFocus",!0))});l=Wt(l,e=>(0,Zt.jsx)(pr,{value:r,children:e}),[r]);const w=jr(r.useState("mounted"),l.hidden,a),E=w?qe($e({},l.style),{display:"none"}):l.style,h=r.useState(e=>Array.isArray(e.selectedValue)),b=function(e,t,r){const[i,a]=(0,n.useState)(r);return Bt(()=>{const n=e&&"current"in e?e.current:e,r=null==n?void 0:n.getAttribute(t);null!=r&&a(r)},[e,t]),i}(s,"role",l.role);return l=qe($e({id:c,hidden:w,role:"listbox",tabIndex:i?-1:void 0,"aria-multiselectable":("listbox"===b||"tree"===b||"grid"===b)&&h||void 0},l),{ref:Ht(c?r.setContentElement:null,s,l.ref),style:E,onKeyDown:d,onFocusVisible:v,onBlur:g}),Mr($e({focusable:i},l))}),Wr=Jt(e=>en("div",Ur(e)));function Gr(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Et(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Et(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}var $r=Symbol("command"),qr=tn(e=>{var t=e,{clickOnEnter:r=!0,clickOnSpace:i=!0}=t,a=Ye(t,["clickOnEnter","clickOnSpace"]);const l=(0,n.useRef)(null),o=zt(l,a.as),s=a.type,[c,u]=(0,n.useState)(()=>!!o&&Et({tagName:o,type:s}));(0,n.useEffect)(()=>{l.current&&u(Et(l.current))},[]);const[d,m]=(0,n.useState)(!1),f=(0,n.useRef)(!1),v=dt(a),[p,g]=function(e,t,r){const i=e.onLoadedMetadataCapture,a=(0,n.useMemo)(()=>Object.assign(()=>{},qe($e({},i),{[t]:r})),[i,t,r]);return[null==i?void 0:i[t],{onLoadedMetadataCapture:a}]}(a,$r,!0),w=a.onKeyDown,E=Rt(e=>{null==w||w(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(p)return;if(v)return;if(!Ot(e))return;if(yt(t))return;if(t.isContentEditable)return;const n=r&&"Enter"===e.key,a=i&&" "===e.key,l="Enter"===e.key&&!r,o=" "===e.key&&!i;if(l||o)e.preventDefault();else if(n||a){const r=Gr(e);if(n){if(!r){e.preventDefault();const n=e,{view:r}=n,i=Ye(n,["view"]),a=()=>Mt(t,i);vt&&/firefox\//i.test(navigator.userAgent)?Pt(t,"keyup",a):queueMicrotask(a)}}else a&&(f.current=!0,r||(e.preventDefault(),m(!0)))}}),h=a.onKeyUp,b=Rt(e=>{if(null==h||h(e),e.defaultPrevented)return;if(p)return;if(v)return;if(e.metaKey)return;const t=i&&" "===e.key;if(f.current&&t&&(f.current=!1,!Gr(e))){e.preventDefault(),m(!1);const t=e.currentTarget,n=e,{view:r}=n,i=Ye(n,["view"]);queueMicrotask(()=>Mt(t,i))}});return a=qe($e($e({"data-active":d?"":void 0,type:c?"button":void 0},g),a),{ref:Ht(l,a.ref),onKeyDown:E,onKeyUp:b}),Mr(a)});Jt(e=>en("button",e=qr(e)));var Yr=tn(e=>{var t=e,{store:r,shouldRegisterItem:i=!0,getItem:a=ct,element:l}=t,o=Ye(t,["store","shouldRegisterItem","getItem","element"]);const s=an();r=r||s;const c=jt(o.id),u=(0,n.useRef)(l);return(0,n.useEffect)(()=>{const e=u.current;if(!c)return;if(!e)return;if(!i)return;const t=a({id:c,element:e});return null==r?void 0:r.renderItem(t)},[c,i,a,r]),qe($e({},o),{ref:Ht(u,o.ref)})});function Xr(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function Zr(e,t,n,r=!1){var i;if(!t)return;if(!n)return;const{renderedItems:a}=t.getState(),l=Ct(e);if(!l)return;const o=function(e,t=!1){const n=e.clientHeight,{top:r}=e.getBoundingClientRect(),i=1.5*Math.max(.875*n,n-40),a=t?n-i+r:i+r;return"HTML"===e.tagName?a+e.scrollTop:a}(l,r);let s,c;for(let e=0;e<a.length;e+=1){const a=s;if(s=n(e),!s)break;if(s===a)continue;const l=null==(i=Le(t,s))?void 0:i.element;if(!l)continue;const u=Xr(l,r)-o,d=Math.abs(u);if(r&&u<=0||!r&&u>=0){void 0!==c&&c<d&&(s=a);break}c=d}return s}Jt(e=>en("div",Yr(e)));var Jr=tn(e=>{var t=e,{store:r,rowId:i,preventScrollOnKeyDown:a=!1,moveOnKeyPress:l=!0,tabbable:o=!1,getItem:s,"aria-setsize":c,"aria-posinset":u}=t,d=Ye(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const m=on();r=r||m;const f=jt(d.id),v=(0,n.useRef)(null),p=(0,n.useContext)(mn),g=Ln(r,e=>i||(e&&(null==p?void 0:p.baseElement)&&p.baseElement===e.baseElement?p.id:void 0)),w=dt(d)&&!d.accessibleWhenDisabled,E=(0,n.useCallback)(e=>{const t=qe($e({},e),{id:f||e.id,rowId:g,disabled:!!w});return s?s(t):t},[f,g,w,s]),h=d.onFocus,b=(0,n.useRef)(!1),y=Rt(e=>{if(null==h||h(e),e.defaultPrevented)return;if(Vt(e))return;if(!f)return;if(!r)return;const{activeId:t,virtualFocus:n,baseElement:i}=r.getState();var a;(function(e,t){return!Ot(e)&&Re(t,e.target)})(e,r)||(t!==f&&r.setActiveId(f),n&&Ot(e)&&((a=e.currentTarget).isContentEditable||yt(a)||"INPUT"===a.tagName&&!Et(a)||(null==i?void 0:i.isConnected)&&(b.current=!0,e.relatedTarget===i||Re(r,e.relatedTarget)?function(e){e[Be]=!0,e.focus({preventScroll:!0})}(i):i.focus())))}),S=d.onBlurCapture,_=Rt(e=>{if(null==S||S(e),e.defaultPrevented)return;const t=null==r?void 0:r.getState();(null==t?void 0:t.virtualFocus)&&b.current&&(b.current=!1,e.preventDefault(),e.stopPropagation())}),C=d.onKeyDown,I=Ut(a),x=Ut(l),k=Rt(e=>{if(null==C||C(e),e.defaultPrevented)return;if(!Ot(e))return;if(!r)return;const{currentTarget:t}=e,n=r.getState(),i=r.item(f),a=!!(null==i?void 0:i.rowId),l="horizontal"!==n.orientation,o="vertical"!==n.orientation,s=()=>!(!a&&!o&&n.baseElement&&yt(n.baseElement)),c={ArrowUp:(a||l)&&r.up,ArrowRight:(a||o)&&r.next,ArrowDown:(a||l)&&r.down,ArrowLeft:(a||o)&&r.previous,Home:()=>{if(s())return!a||e.ctrlKey?null==r?void 0:r.first():null==r?void 0:r.previous(-1)},End:()=>{if(s())return!a||e.ctrlKey?null==r?void 0:r.last():null==r?void 0:r.next(-1)},PageUp:()=>Zr(t,r,null==r?void 0:r.up,!0),PageDown:()=>Zr(t,r,null==r?void 0:r.down)}[e.key];if(c){const t=c();if(I(e)||void 0!==t){if(!x(e))return;e.preventDefault(),r.move(t)}}}),V=Ln(r,e=>(null==e?void 0:e.baseElement)||void 0),O=(0,n.useMemo)(()=>({id:f,baseElement:V}),[f,V]);d=Wt(d,e=>(0,Zt.jsx)(dn.Provider,{value:O,children:e}),[O]);const N=Ln(r,e=>!!e&&e.activeId===f),M=Ln(r,"virtualFocus"),A=function(e,t){const r=t.role,[i,a]=(0,n.useState)(r);return Bt(()=>{const t=e.current;t&&a(t.getAttribute("role")||r)},[r]),i}(v,d);let P;N&&(function(e){return"option"===e||"treeitem"===e}(A)||M&&function(e){return"option"===e||"tab"===e||"treeitem"===e||"gridcell"===e||"row"===e||"columnheader"===e||"rowheader"===e}(A))&&(P=!0);const F=Ln(r,e=>null!=c?c:e&&(null==p?void 0:p.ariaSetSize)&&p.baseElement===e.baseElement?p.ariaSetSize:void 0),D=Ln(r,e=>{if(null!=u)return u;if(!e)return;if(!(null==p?void 0:p.ariaPosInSet))return;if(p.baseElement!==e.baseElement)return;const t=e.renderedItems.filter(e=>e.rowId===g);return p.ariaPosInSet+t.findIndex(e=>e.id===f)}),T=Ln(r,e=>!(null==e?void 0:e.renderedItems.length)||!e.virtualFocus&&(!!o||e.activeId===f));return d=qe($e({id:f,"aria-selected":P,"data-active-item":N?"":void 0},d),{ref:Ht(v,d.ref),tabIndex:T?d.tabIndex:-1,onFocus:y,onBlurCapture:_,onKeyDown:k}),d=qr(d),d=Yr(qe($e({store:r},d),{getItem:E,shouldRegisterItem:!!f&&d.shouldRegisterItem})),qe($e({},d),{"aria-setsize":F,"aria-posinset":D})});Qt(e=>en("button",Jr(e)));var Qr=tn(e=>{var t=e,{store:r,value:i,hideOnClick:a,selectValueOnClick:l=!0,setValueOnClick:o,focusOnHover:s=!1,moveOnKeyPress:c=!0,getItem:u}=t,d=Ye(t,["store","value","hideOnClick","selectValueOnClick","setValueOnClick","focusOnHover","moveOnKeyPress","getItem"]);const m=mr();ut(r=r||m,!1);const f=(0,n.useCallback)(e=>{const t=qe($e({},e),{value:i});return u?u(t):t},[i,u]),v=r.useState(e=>Array.isArray(e.selectedValue));o=null!=o?o:!v,a=null!=a?a:null!=i&&!v;const p=d.onClick,g=Ut(o),w=Ut(l),E=Ut(a),h=Rt(e=>{null==p||p(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=xt();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const r=t.tagName.toLowerCase();return"a"===r||"button"===r&&"submit"===t.type||"input"===r&&"submit"===t.type}(e)||(null!=i&&(w(e)&&(null==r||r.setSelectedValue(e=>Array.isArray(e)?e.includes(i)?e.filter(e=>e!==i):[...e,i]:i)),g(e)&&(null==r||r.setValue(i))),E(e)&&(null==r||r.move(null),null==r||r.hide()))}),b=d.onKeyDown,y=Rt(e=>{if(null==b||b(e),e.defaultPrevented)return;const t=null==r?void 0:r.getState().baseElement;t&&(hn(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask(()=>t.focus()),yt(t)&&(null==r||r.setValue(t.value))))}),S=r.useState(e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,i));v&&null!=S&&(d=$e({"aria-selected":S},d)),d=Wt(d,e=>(0,Zt.jsx)(gr.Provider,{value:i,children:(0,Zt.jsx)(wr.Provider,{value:null!=S&&S,children:e})}),[i,S]);const _=r.useState("contentElement");d=qe($e({role:_t(_),children:i},d),{onClick:h,onKeyDown:y});const C=Ut(c);return d=Jr(qe($e({store:r},d),{getItem:f,moveOnKeyPress:e=>{if(!C(e))return!1;const t=new Event("combobox-item-move"),n=null==r?void 0:r.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),Cn($e({store:r,focusOnHover:s},d))}),ei=Qt(e=>en("div",Qr(e)));function ti(e){return st(e).toLowerCase()}var ni=tn(e=>{var t=e,{store:r,value:i}=t,a=Ye(t,["store","value"]);const l=mr();r=r||l;const o=(0,n.useContext)(gr),s=null!=i?i:o;ut(r,!1);const c=r.useState(e=>s&&e.value?e.value:void 0),u=(0,n.useMemo)(()=>s&&c?function(e,t){t=ti(t);let n=ti(e).indexOf(t);const r=[];for(;-1!==n;)0!==n&&r.push((0,Zt.jsx)("span",{"data-autocomplete-value":"",children:e.substr(0,n)},r.length)),r.push((0,Zt.jsx)("span",{"data-user-value":"",children:e.substr(n,t.length)},r.length)),n=ti(e=e.substr(n+t.length)).indexOf(t);return e&&r.push((0,Zt.jsx)("span",{"data-autocomplete-value":"",children:e},r.length)),r}(s,c):s,[s,c]);return $e({children:u},a)}),ri=Jt(e=>en("span",ni(e))),ii=i(731),ai=i.n(ii);const li=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),oi=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})),{CompositeV2:si,CompositeItemV2:ci,useCompositeStoreV2:ui}=f(t.privateApis),di=(0,n.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(l.Circle,{cx:12,cy:12,r:3}));function mi(e=""){return ai()(e.trim().toLowerCase())}const fi=[],vi=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:fi,pi=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter(e=>e!==n):[...t.value,n]:[n];function gi({view:e,filter:r,onChangeView:i}){const l=ui({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===r.operators?.length?void 0:null}),o=e.filters.find(e=>e.field===r.field),s=vi(r,o);return(0,n.createElement)(si,{store:l,role:"listbox",className:"dataviews-search-widget-listbox","aria-label":(0,a.sprintf)(/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */ /* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,a.__)("List of: %1$s"),r.name),onFocusVisible:()=>{l.getState().activeId||l.move(l.first())},render:(0,n.createElement)(wn,{store:l})},r.elements.map(a=>(0,n.createElement)(In,{store:l,key:a.value,render:(0,n.createElement)(ci,{render:(0,n.createElement)("div",{"aria-label":a.label,role:"option",className:"dataviews-search-widget-listitem"}),onClick:()=>{const t=o?[...e.filters.map(e=>e.field===r.field?{...e,operator:o.operator||r.operators[0],value:pi(r,o,a.value)}:e)]:[...e.filters,{field:r.field,operator:r.operators[0],value:pi(r,o,a.value)}];i({...e,page:1,filters:t})}})},(0,n.createElement)("span",{className:"dataviews-search-widget-listitem-check"},r.singleSelection&&s===a.value&&(0,n.createElement)(t.Icon,{icon:di}),!r.singleSelection&&s.includes(a.value)&&(0,n.createElement)(t.Icon,{icon:li})),(0,n.createElement)("span",null,a.label,!!a.description&&(0,n.createElement)("span",{className:"dataviews-search-widget-listitem-description"},a.description)))))}function wi({view:r,filter:i,onChangeView:l}){const[o,s]=(0,e.useState)(""),c=(0,e.useDeferredValue)(o),u=r.filters.find(e=>e.field===i.field),d=vi(i,u),m=(0,e.useMemo)(()=>{const e=mi(c);return i.elements.filter(t=>mi(t.label).includes(e))},[i.elements,c]);return(0,n.createElement)(Er,{resetValueOnSelect:!1,selectedValue:d,setSelectedValue:e=>{const t=u?[...r.filters.map(t=>t.field===i.field?{...t,operator:u.operator||i.operators[0],value:e}:t)]:[...r.filters,{field:i.field,operator:i.operators[0],value:e}];l({...r,page:1,filters:t})},setValue:s},(0,n.createElement)("div",{className:"dataviews-search-widget-filter-combobox__wrapper"},(0,n.createElement)(br,{render:(0,n.createElement)(t.VisuallyHidden,null)},(0,a.__)("Search items")),(0,n.createElement)(Br,{autoSelect:"always",placeholder:(0,a.__)("Search"),className:"dataviews-search-widget-filter-combobox__input"}),(0,n.createElement)("div",{className:"dataviews-search-widget-filter-combobox__icon"},(0,n.createElement)(t.Icon,{icon:oi}))),(0,n.createElement)(Wr,{className:"dataviews-search-widget-filter-combobox-list",alwaysVisible:!0},m.map(e=>(0,n.createElement)(ei,{key:e.value,value:e.value,className:"dataviews-search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0},(0,n.createElement)("span",{className:"dataviews-search-widget-listitem-check"},i.singleSelection&&d===e.value&&(0,n.createElement)(t.Icon,{icon:di}),!i.singleSelection&&d.includes(e.value)&&(0,n.createElement)(t.Icon,{icon:li})),(0,n.createElement)("span",null,(0,n.createElement)(ri,{className:"dataviews-search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,n.createElement)("span",{className:"dataviews-search-widget-listitem-description"},e.description)))),!m.length&&(0,n.createElement)("p",null,(0,a.__)("No results found"))))}function Ei(e){const t=e.filter.elements.length>10?wi:gi;return(0,n.createElement)(t,{...e})}const hi="Enter",bi=" ",yi=({activeElements:t,filterInView:r,filter:i})=>{if(void 0===t||0===t.length)return i.name;const l={Name:(0,n.createElement)("span",{className:"dataviews-filter-summary__filter-text-name"}),Value:(0,n.createElement)("span",{className:"dataviews-filter-summary__filter-text-value"})};return r?.operator===g?(0,e.createInterpolateElement)((0,a.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,a.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),i.name,t.map(e=>e.label).join(", ")),l):r?.operator===w?(0,e.createInterpolateElement)((0,a.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,a.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),i.name,t.map(e=>e.label).join(", ")),l):r?.operator===E?(0,e.createInterpolateElement)((0,a.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,a.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),i.name,t.map(e=>e.label).join(", ")),l):r?.operator===h?(0,e.createInterpolateElement)((0,a.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,a.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),i.name,t.map(e=>e.label).join(", ")),l):r?.operator===v?(0,e.createInterpolateElement)((0,a.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is: Admin". */
(0,a.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),i.name,t[0].label),l):r?.operator===p?(0,e.createInterpolateElement)((0,a.sprintf)(/* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */ /* translators: 1: Filter name. 3: Filter value. e.g.: "Author is not: Admin". */
(0,a.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),i.name,t[0].label),l):(0,a.sprintf)(/* translators: 1: Filter name e.g.: "Unknown status for Author". */ /* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,a.__)("Unknown status for %1$s"),i.name)};function Si({filter:e,view:r,onChangeView:i}){const l=e.operators?.map(e=>({value:e,label:y[e]?.label})),o=r.filters.find(t=>t.field===e.field),s=o?.operator||e.operators[0];return l.length>1&&(0,n.createElement)(t.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filter-summary__operators-container"},(0,n.createElement)(t.FlexItem,{className:"dataviews-filter-summary__operators-filter-name"},e.name),(0,n.createElement)(t.SelectControl,{label:(0,a.__)("Conditions"),value:s,options:l,onChange:t=>{const n=o?[...r.filters.map(n=>n.field===e.field?{...n,operator:t}:n)]:[...r.filters,{field:e.field,operator:t}];i({...r,page:1,filters:n})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0}))}function _i({addFilterRef:r,openedFilter:i,...l}){const o=(0,e.useRef)(),{filter:s,view:c,onChangeView:u}=l,d=c.filters.find(e=>e.field===s.field),m=s.elements.filter(e=>s.singleSelection?e.value===d?.value:d?.value?.includes(e.value)),f=s.isPrimary,v=void 0!==d?.value,p=!f||v;return(0,n.createElement)(t.Dropdown,{defaultOpen:i===s.field,contentClassName:"dataviews-filter-summary__popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{o.current?.focus()},renderToggle:({isOpen:e,onToggle:i})=>(0,n.createElement)("div",{className:"dataviews-filter-summary__chip-container"},(0,n.createElement)(t.Tooltip,{text:(0,a.sprintf)(/* translators: 1: Filter name. */ /* translators: 1: Filter name. */
(0,a.__)("Filter by: %1$s"),s.name.toLowerCase()),placement:"top"},(0,n.createElement)("div",{className:N("dataviews-filter-summary__chip",{"has-reset":p,"has-values":v}),role:"button",tabIndex:0,onClick:i,onKeyDown:e=>{[hi,bi].includes(e.key)&&(i(),e.preventDefault())},"aria-pressed":e,"aria-expanded":e,ref:o},(0,n.createElement)(yi,{activeElements:m,filterInView:d,filter:s}))),p&&(0,n.createElement)(t.Tooltip,{text:f?(0,a.__)("Reset"):(0,a.__)("Remove"),placement:"top"},(0,n.createElement)("button",{className:N("dataviews-filter-summary__chip-remove",{"has-values":v}),onClick:()=>{u({...c,page:1,filters:c.filters.filter(e=>e.field!==s.field)}),f?o.current?.focus():r.current?.focus()}},(0,n.createElement)(t.Icon,{icon:De})))),renderContent:()=>(0,n.createElement)(t.__experimentalVStack,{spacing:0,justify:"flex-start"},(0,n.createElement)(Si,{...l}),(0,n.createElement)(Ei,{...l}))})}const{DropdownMenuV2:Ci,DropdownMenuItemV2:Ii,DropdownMenuItemLabelV2:xi}=f(t.privateApis),ki=(0,e.forwardRef)(function({filters:e,view:r,onChangeView:i,setOpenedFilter:l},o){if(!e.length||e.every(({isPrimary:e})=>e))return null;const s=e.filter(e=>!e.isVisible);return(0,n.createElement)(Ci,{trigger:(0,n.createElement)(t.Button,{__experimentalIsFocusable:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!s.length,ref:o},(0,a.__)("Add filter"))},s.map(e=>(0,n.createElement)(Ii,{key:e.field,onClick:()=>{l(e.field),i({...r,page:1,filters:[...r.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})}},(0,n.createElement)(xi,null,e.name))))});function Vi({filters:e,view:r,onChangeView:i}){const l=!r.search&&!r.filters?.some(t=>{return void 0!==t.value||(n=t.field,!e.some(e=>e.field===n&&e.isPrimary));var n});return(0,n.createElement)(t.Button,{disabled:l,__experimentalIsFocusable:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{i({...r,page:1,search:"",filters:[]})}},(0,a.__)("Reset"))}const Oi=(0,e.memo)(function({fields:r,view:i,onChangeView:a,openedFilter:l,setOpenedFilter:o}){const s=(0,e.useRef)(),c=[];r.forEach(e=>{if(!e.elements?.length)return;const t=$(e);if(0===t.length)return;const n=!!e.filterBy?.isPrimary;c.push({field:e.id,name:e.header,elements:e.elements,singleSelection:t.some(e=>[v,p].includes(e)),operators:t,isVisible:n||i.filters.some(t=>t.field===e.id&&b.includes(t.operator)),isPrimary:n})}),c.sort((e,t)=>e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name));const u=(0,n.createElement)(ki,{key:"add-filter",filters:c,view:i,onChangeView:a,ref:s,setOpenedFilter:o}),d=[...c.map(e=>e.isVisible?(0,n.createElement)(_i,{key:e.field,filter:e,view:i,onChangeView:a,addFilterRef:s,openedFilter:l}):null),u];return d.length>1&&d.push((0,n.createElement)(Vi,{key:"reset-filters",filters:c,view:i,onChangeView:a})),(0,n.createElement)(t.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0},d)}),Ni=Oi,Mi=(0,e.memo)(function({label:r,view:i,onChangeView:l}){const[o,s,c]=(0,pe.useDebouncedInput)(i.search);(0,e.useEffect)(()=>{s(i.search)},[i]);const u=(0,e.useRef)(l);(0,e.useEffect)(()=>{u.current=l},[l]),(0,e.useEffect)(()=>{u.current({...i,page:1,search:c})},[c]);const d=r||(0,a.__)("Search");return(0,n.createElement)(t.SearchControl,{__nextHasNoMarginBottom:!0,onChange:s,value:o,label:d,placeholder:d,size:"compact"})}),Ai={init:{bottom:-48},open:{bottom:24,transition:{bottom:{type:"tween",duration:.2,ease:[0,0,.2,1]}}},exit:{opacity:0,bottom:24,transition:{opacity:{type:"tween",duration:.2,ease:[0,0,.2,1]}}}};function Pi({action:e,onClick:r,isBusy:i}){return(0,n.createElement)(t.ToolbarButton,{disabled:i,label:e.label,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:r,isBusy:i,__experimentalIsFocusable:!0,tooltipPosition:"top"})}const Fi=[];function Di({action:t,selectedItems:r,actionInProgress:i,setActionInProgress:a}){const l=(0,e.useMemo)(()=>r.filter(e=>t.isEligible(e)),[t,r]);return t.RenderModal?(0,n.createElement)(K,{key:t.id,action:t,items:l,ActionTrigger:Pi,onActionStart:()=>{a(t.id)},onActionPerformed:()=>{a(null)}}):(0,n.createElement)(Pi,{key:t.id,action:t,items:r,onClick:()=>{a(t.id),t.callback(r,()=>{a(t.id)})},isBusy:i===t.id})}function Ti(e,r,i,l,o,s){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(t.ToolbarGroup,null,(0,n.createElement)("div",{className:"dataviews-bulk-actions__selection-count"},1===e.length?(0,a.__)("1 item selected"):(0,a.sprintf)(
// translators: %s: Total number of selected items.
// translators: %s: Total number of selected items.
(0,a._n)("%s item selected","%s items selected",e.length),e.length))),(0,n.createElement)(t.ToolbarGroup,null,r.map(e=>(0,n.createElement)(Di,{key:e.id,action:e,selectedItems:i,actionInProgress:l,setActionInProgress:o}))),(0,n.createElement)(t.ToolbarGroup,null,(0,n.createElement)(t.ToolbarButton,{icon:De,showTooltip:!0,tooltipPosition:"top",label:(0,a.__)("Cancel"),disabled:!!l,onClick:()=>{s(Fi)}})))}function Li({selection:t,actionsToShow:n,selectedItems:r,setSelection:i}){const[a,l]=(0,e.useState)(null),o=(0,e.useRef)(null);return a?(o.current||(o.current=Ti(t,n,r,a,l,i)),o.current):(o.current&&(o.current=null),Ti(t,n,r,a,l,i))}function Bi({data:r,selection:i,actions:l=Fi,setSelection:o,getItemId:s}){const c=(0,pe.useReducedMotion)(),u=(0,e.useMemo)(()=>r.filter(e=>i.includes(s(e))),[i,r,s]),d=(0,e.useMemo)(()=>l.filter(e=>e.supportsBulk&&e.icon&&u.some(t=>e.isEligible(t))),[l,u]);return i&&0===i.length||0===d.length?null:(0,n.createElement)(t.__unstableAnimatePresence,null,(0,n.createElement)(t.__unstableMotion.div,{layout:!c,initial:"init",animate:"open",exit:"exit",variants:c?void 0:Ai,className:"dataviews-bulk-actions"},(0,n.createElement)(t.Toolbar,{label:(0,a.__)("Bulk actions")},(0,n.createElement)("div",{className:"dataviews-bulk-actions-toolbar-wrapper"},(0,n.createElement)(Li,{selection:i,actionsToShow:d,selectedItems:u,setSelection:o})))))}const Ri=e=>e.id,Hi=()=>{};function ji({view:r,onChangeView:i,fields:a,search:l=!0,searchLabel:o,actions:s=[],data:u,getItemId:d=Ri,isLoading:m=!1,paginationInfo:f,supportedLayouts:v,onSelectionChange:p=Hi}){const[g,w]=(0,e.useState)([]),[E,h]=(0,e.useState)(null);(0,e.useEffect)(()=>{if(g.length>0&&g.some(e=>!u.some(t=>d(t)===e))){const e=g.filter(e=>u.some(t=>d(t)===e));w(e),p(u.filter(t=>e.includes(d(t))))}},[g,u,d,p]);const b=(0,e.useCallback)(e=>{w(e.map(e=>d(e))),p(e)},[w,d,p]),y=Se.find(e=>e.type===r.type).component,S=(0,e.useMemo)(()=>function(e){return e.map(e=>{const t=e.getValue||(({item:t})=>t[e.id]);return{...e,header:e.header||e.id,getValue:t,render:e.render||t}})}(a),[a]),I=function(t,n){return(0,e.useMemo)(()=>n.some(e=>t.some(t=>t.supportsBulk&&t.isEligible(e))),[t,n])}(s,u);return(0,n.createElement)("div",{className:"dataviews-wrapper"},(0,n.createElement)(t.__experimentalHStack,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions"},(0,n.createElement)(t.__experimentalHStack,{justify:"start",className:"dataviews-filters__container",wrap:!0},l&&(0,n.createElement)(Mi,{label:o,view:r,onChangeView:i}),(0,n.createElement)(Ni,{fields:S,view:r,onChangeView:i,openedFilter:E,setOpenedFilter:h})),[_,C].includes(r.type)&&I&&(0,n.createElement)(ne,{actions:s,data:u,onSelectionChange:b,selection:g,getItemId:d}),(0,n.createElement)(Fe,{fields:S,view:r,onChangeView:i,supportedLayouts:v})),(0,n.createElement)(y,{actions:s,data:u,fields:S,getItemId:d,isLoading:m,onChangeView:i,onSelectionChange:b,selection:g,setOpenedFilter:h,view:r}),(0,n.createElement)(c,{view:r,onChangeView:i,paginationInfo:f}),[_,C].includes(r.type)&&I&&(0,n.createElement)(Bi,{data:u,actions:s,selection:g,setSelection:w,getItemId:d}))}const zi=window.wpVrtAdminData||{},Ki=()=>(0,e.createElement)("div",{className:"wp-vrt-header"},(0,e.createElement)("div",null,(0,e.createElement)("h1",{className:"wp-vrt-title"},"WP VRT"),(0,e.createElement)("p",{className:"wp-vrt-subtitle"},"Virtual pages for visual regression testing.")),(0,e.createElement)("div",{className:"wp-vrt-actions"},(0,e.createElement)(t.Button,{href:zi.discoveryUrl,target:"_blank",rel:"noopener",variant:"secondary"},"Discovery endpoint"),(0,e.createElement)(t.Button,{href:zi.baseUrl,target:"_blank",rel:"noopener",variant:"primary"},"Open base URL"))),Ui=()=>(0,e.createElement)("div",{className:"wp-vrt-stats"},Object.entries(zi.stats||{}).map(([n,r])=>(0,e.createElement)(t.Card,{className:"wp-vrt-stat",key:n},(0,e.createElement)(t.CardBody,null,(0,e.createElement)("div",{className:"wp-vrt-stat-value"},String(r)),(0,e.createElement)("div",{className:"wp-vrt-stat-label"},n))))),Wi=({title:n,description:r,items:i,view:a,onChangeView:l})=>{const o=(0,e.useMemo)(()=>{if(!a.search)return i;const e=a.search.toLowerCase();return i.filter(t=>(t.label+" "+t.url).toLowerCase().includes(e))},[i,a.search]).map(e=>({id:e.url,label:e.label,url:e.url,isDynamic:!!e.isDynamic,family:e.family||""})),s=[{id:"label",type:"text",label:"Label",enableHiding:!1,render:({item:t})=>(0,e.createElement)("span",{className:"wp-vrt-row-label"},t.label,t.isDynamic?(0,e.createElement)("span",{className:"wp-vrt-tag"},"Dynamic"):null)},{id:"family",type:"text",label:"Family",enableSorting:!1},{id:"url",type:"url",label:"URL",enableHiding:!0,enableSorting:!1}],c=[{id:"open-preview",label:"Open preview",icon:"external",isPrimary:!0,callback:e=>{const t=Array.isArray(e)?e[0]:e;t?.url&&window.open(t.url,"_blank","noopener")}}];return(0,e.createElement)(t.Card,{className:"wp-vrt-section"},(0,e.createElement)(t.CardHeader,null,(0,e.createElement)("div",{className:"wp-vrt-section-header"},(0,e.createElement)("h2",{className:"components-heading"},n),(0,e.createElement)("span",{className:"wp-vrt-pill"},String(o.length))),(0,e.createElement)("p",{className:"wp-vrt-section-desc"},r)),(0,e.createElement)(t.CardBody,null,0===o.length?(0,e.createElement)("p",{className:"wp-vrt-empty"},"No items found."):(0,e.createElement)(ji,{data:o,fields:s,view:a,onChangeView:l,actions:c,defaultLayouts:{grid:{density:"compact"}}})))},Gi=({groups:n})=>n&&0!==n.length?(0,e.createElement)("div",{className:"wp-vrt-groups"},n.map(n=>(0,e.createElement)(t.Card,{className:"wp-vrt-group",key:n.title},(0,e.createElement)(t.CardHeader,null,(0,e.createElement)("div",{className:"wp-vrt-group-header"},(0,e.createElement)("h3",{className:"components-heading"},n.title),(0,e.createElement)("span",{className:"wp-vrt-pill"},String(n.items.length))),n.description?(0,e.createElement)("p",{className:"wp-vrt-section-desc"},n.description):null),(0,e.createElement)(t.CardBody,null,(0,e.createElement)("div",{className:"wp-vrt-list wp-vrt-list-grid"},(n.items||[]).map(n=>(0,e.createElement)("div",{key:n.url,className:"wp-vrt-row"},(0,e.createElement)("span",{className:"wp-vrt-row-label"},n.label),(0,e.createElement)(t.Button,{className:"wp-vrt-row-action",href:n.url,target:"_blank",rel:"noopener",icon:"external",label:"Open preview",isSmall:!0,variant:"tertiary"})))))))):null,$i=({section:t,view:n,onChangeView:r})=>{let i=t.items||[];if("Blocks"===t.title&&t.groups){const e=new Map;t.groups.forEach(t=>{(t.items||[]).forEach(n=>{e.set(n.url,t.title)})}),i=i.map(t=>({...t,family:e.get(t.url)||""}))}return(0,e.createElement)("div",{className:"wp-vrt-tab-panel"},"Blocks"===t.title&&t.groups?(0,e.createElement)("div",{className:"wp-vrt-grid"},(0,e.createElement)(Gi,{groups:t.groups})):null,(0,e.createElement)("div",{className:"wp-vrt-grid"},(0,e.createElement)(Wi,{title:t.title,description:t.description,items:i,view:n,onChangeView:r})))},qi=document.getElementById("wp-vrt-app");qi&&(0,e.render)((0,e.createElement)(()=>{if(!zi.baseUrl)return(0,e.createElement)(t.Notice,{status:"warning",isDismissible:!1},"WP VRT data not available.");const n=(zi.sections||[]).map(e=>({name:e.title,title:e.title,className:"wp-vrt-tab"})),[r,i]=(0,e.useState)(()=>{const e={};return(zi.sections||[]).forEach(t=>{e[t.title]={type:"grid",search:""}}),e});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ki),(0,e.createElement)(Ui),(0,e.createElement)(t.TabPanel,{className:"wp-vrt-tabs",tabs:n},t=>{const n=(zi.sections||[]).find(e=>e.title===t.name);if(!n)return null;const a=r[n.title]||{type:"grid",search:""};return(0,e.createElement)($i,{section:n,view:a,onChangeView:e=>{i(t=>({...t,[n.title]:e}))}})}))}),qi)})()})();